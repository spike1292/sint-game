/**
 * angular-kickstart - Speed up your AngularJS development whith a great build system.
 * @version v1.0.2
 * @link https://github.com/vesparny/angular-kickstart
 * @license MIT
 */
!function(){"use strict";function config($stateProvider,$urlRouterProvider,$logProvider,$httpProvider){$urlRouterProvider.otherwise("/"),$logProvider.debugEnabled(!0),$httpProvider.interceptors.push("httpInterceptor"),$stateProvider.state("root",{views:{header:{templateUrl:"src/common/header.tpl.html",controller:"HeaderCtrl"},footer:{templateUrl:"src/common/footer.tpl.html",controller:"FooterCtrl"}}})}function MainCtrl($log){$log.debug("MainCtrl laoded!")}function run($log){$log.debug("App is running!")}angular.element(document).ready(function(){angular.bootstrap(document,["app"])}),config.$inject=["$stateProvider","$urlRouterProvider","$logProvider","$httpProvider"],MainCtrl.$inject=["$log"],run.$inject=["$log"],angular.module("app",["ui.router","home","question01","question-puzzle","question-x","question-rebus","common.header","common.footer","common.services.data","common.directives.version","common.filters.uppercase","common.interceptors.http","templates"]).config(config).run(run).controller("MainCtrl",MainCtrl).value("version","1.0.2")}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.home",{url:"/",views:{"@":{templateUrl:"src/app/home/home.tpl.html",controller:"HomeCtrl as home"}}})}function HomeCtrl($state){this.start=function(){$state.go("root.question01")}}config.$inject=["$stateProvider"],HomeCtrl.$inject=["$state"],angular.module("home",[]).config(config).controller("HomeCtrl",HomeCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question01",{url:"/question01",views:{"@":{templateUrl:"src/app/question01/question01.tpl.html",controller:"FirstQuestionCtrl as question"}}})}function FirstQuestionCtrl($state){this.answers=["met je knecht","met je slaaf","Er komt hier helemaal niemand binnen!","Ze zijn al geweest van het Liliane Fonds"],this.next=function(){this.myAnswer===this.answers[0]?$state.go("root.question-x"):this.error=!0}.bind(this)}config.$inject=["$stateProvider"],FirstQuestionCtrl.$inject=["$state"],angular.module("question01",[]).config(config).controller("FirstQuestionCtrl",FirstQuestionCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-puzzle",{url:"/question-puzzle",views:{"@":{templateUrl:"src/app/question-puzzle/question-puzzle.tpl.html",controller:"PuzzleQuestionCtrl as question"}}})}function PuzzleQuestionCtrl($state){this.matrix=[["D","E","S","C","H","I","M","M","E","L","S","U","R","E"],["P","T","R","E","I","S","S","E","M","B","L","I","J","G"],["R","E","S","S","K","R","U","I","D","N","O","T","E","N"],["E","I","T","I","Z","E","J","R","E","L","S","M","S","T"],["B","P","O","R","O","T","G","O","C","J","A","K","E","M"],["M","E","O","P","E","T","I","E","I","Y","N","A","A","N"],["E","P","M","R","T","E","N","L","Z","A","D","A","R","Z"],["C","E","B","U","D","L","G","D","T","E","N","N","P","S"],["E","R","O","S","I","N","T","E","R","K","L","A","A","S"],["D","N","O","V","A","S","E","J","K","A","P","L","E","C"],["A","O","T","L","E","T","R","O","W","D","A","F","I","F"],["S","T","R","O","O","I","G","O","E","D","A","P","I","G"],["N","E","E","T","S","R","O","O","H","C","S","U","T","O"],["V","N","E","O","H","C","S","G","E","D","I","C","H","T"]],this.words=["BOMEN","CANDYCRUSH","DAK","DECEMBER","FIFA","GEDICHT","GEZELLIG","IPAD","KRUIDNOTEN","LAARS","LETTER","MAAN","MIJTER","PAARD","PAKJESAVOND","PEPERNOTEN","PIET","ROE","SCHIMMEL","SCHOEN","SCHOORSTEEN","SINTERKLAAS","SPANJE","STOOMBOOT","STROOIGOED","SURPRISE","TANKS","VERLANGLIJSTJE","WORTEL","ZAK","ZOET"],this.next=function(){(""+this.myAnswer).toLowerCase()==="De surprise ligt in de auto".toLowerCase()?$state.go("root.finish"):this.error=!0}.bind(this)}function WordSearchPuzzleFactory(){function WordSearchPuzzle(matrix,words){var maxRow=0,maxCol=0;this.matrix=[],this.words=[],this.solved=!1,angular.forEach(matrix,function(letters,row){angular.forEach(letters,function(letter,col){var item={letter:letter,col:col,row:row,used:!1};this.matrix[row]||(this.matrix[row]=[]),this.matrix[row].push(item),maxCol=col},this),maxRow=row},this),angular.forEach(words,function(word){this.words.push({name:word})},this),this.getItem=function(col,row){return this.matrix[row]?this.matrix[row][col]:void 0},this.getItems=function(colFrom,rowFrom,colTo,rowTo){var items=[];if(rowTo>maxRow&&(rowTo=maxRow),colTo>maxCol&&(colTo=maxCol),void 0===this.getItem(colTo,rowTo))return items;if(colFrom===colTo||rowFrom===rowTo||Math.abs(colTo-colFrom)===Math.abs(rowTo-rowFrom)){var shiftX=colFrom===colTo?0:colTo>colFrom?1:-1,shiftY=rowFrom===rowTo?0:rowTo>rowFrom?1:-1,col=colFrom,row=rowFrom;items.push(this.getItem(col,row));do col+=shiftX,row+=shiftY,items.push(this.getItem(col,row));while(col!==colTo||row!==rowTo)}return items},this.lookup=function(items){if(items.length){var words=[""];angular.forEach(items,function(item){words[0]+=item.letter}),words.push(words[0].split("").reverse().join("")),this.solved=!0,angular.forEach(this.words,function(word){word.found||(angular.forEach(words,function(itemWord){word.name===itemWord&&(word.found=!0,angular.forEach(items,function(item){item.found=!0}))}),word.found||(this.solved=!1))},this)}},this.solve=function(){var start={},directions={N:[0,-1],E:[1,0],S:[0,1],W:[-1,0],NE:[1,-1],NW:[-1,-1],SE:[1,1],SW:[-1,1]};angular.forEach(this.matrix,function(items){angular.forEach(items,function(item){start[item.letter]||(start[item.letter]=[]),start[item.letter].push(item)})}),angular.forEach(this.words,function(word){angular.forEach(start[word.name.charAt(0)],function(start){word.found||angular.forEach(directions,function(shift){word.found||this.lookup(this.getItems(start.col,start.row,start.col+(word.name.length-1)*shift[0],start.row+(word.name.length-1)*shift[1]))},this)},this)},this)}}return function(matrix,words){return new WordSearchPuzzle(matrix,words)}}function wordSearchPuzzleDirective(wordSearchPuzzle){return{restrict:"EA",replace:!0,template:'<table class="word-search-puzzle" ng-class="{\'puzzle-solved\': puzzle.solved}" handpointerenter="disableScroll()" handpointerleave="enableScroll()"><tr ng-repeat="items in puzzle.matrix"><td ng-repeat="item in items" unselectable="on" ng-class="{\'puzzle-found\': item.found, \'puzzle-selected\': item.selected, \'puzzle-message\': puzzle.solved && !item.found}" handpointerenter="selectEnter(item)" handpointerdown="selectStart(item)" handpointerup="selectEnd()" > <span>{{item.letter}}</span></td></tr></table>',scope:{matrix:"=",words:"=",api:"="},link:function(scope,element,attrs){var selectFrom;scope.$watch("matrix",function(matrix){scope.puzzle=wordSearchPuzzle(matrix,scope.words),attrs.api&&(scope.api=scope.puzzle)}),scope.selected=[],scope.selectStart=function(item){selectFrom=item,angular.element(document.body).css("overflow","hidden")},scope.selectEnter=function(item){selectFrom&&(scope.selected=scope.puzzle.getItems(selectFrom.col,selectFrom.row,item.col,item.row))},scope.disableScroll=function(){angular.element(document.body).css("overflow","hidden")},scope.enableScroll=function(){angular.element(document.body).css("overflow","auto")},scope.selectEnd=function(){selectFrom=null,scope.puzzle.lookup(scope.selected),scope.selected=[],angular.element(document.body).css("overflow","auto")},scope.$watch("selected",function(newItems,oldItems){angular.forEach(oldItems,function(item){item.selected=!1}),angular.forEach(newItems,function(item){item.selected=!0})})}}}config.$inject=["$stateProvider"],PuzzleQuestionCtrl.$inject=["$state"],wordSearchPuzzleDirective.$inject=["wordSearchPuzzle"],document.addEventListener("touchmove",function(e){e.preventDefault()},!1);var question2Module=angular.module("question-puzzle",[]).config(config).factory("wordSearchPuzzle",WordSearchPuzzleFactory).directive("wordSearchPuzzle",wordSearchPuzzleDirective).controller("PuzzleQuestionCtrl",PuzzleQuestionCtrl);angular.forEach("pointerdown pointermove pointerup pointercancel pointerenter pointerleave pointerout pointerover".split(" "),function(eventName){var directiveName="hand"+eventName;question2Module.directive(directiveName,["$parse",function($parse){return function(scope,element,attr){var fn=$parse(attr[directiveName]);element.bind(eventName,function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}])})}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-x",{url:"/question-x",views:{"@":{templateUrl:"src/app/question-x/question-x.tpl.html",controller:"XQuestionCtrl as question"}}})}function XQuestionCtrl($state){this.x=function(){$state.go("root.question-puzzle")},this.next=function(){this.error=!0}.bind(this)}config.$inject=["$stateProvider"],XQuestionCtrl.$inject=["$state"],angular.module("question-x",[]).config(config).controller("XQuestionCtrl",XQuestionCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-rebus",{url:"/question-rebus",views:{"@":{templateUrl:"src/app/question-rebus/question-rebus.tpl.html",controller:"RebusQuestionCtrl as question"}}})}function RebusQuestionCtrl($state){this.x=function(){$state.go("root.question-puzzle")},this.next=function(){this.error=!0}.bind(this)}config.$inject=["$stateProvider"],RebusQuestionCtrl.$inject=["$state"],angular.module("question-rebus",[]).config(config).controller("RebusQuestionCtrl",RebusQuestionCtrl)}(),function(){"use strict";function versionDirective(version){return{restrict:"A",link:function(scope,elm){elm.text(version)}}}versionDirective.$inject=["version"],angular.module("common.directives.version",[]).directive("appVersion",versionDirective)}(),function(){"use strict";function httpInterceptor($q,$log){return{request:function(config){return config},requestError:function(rejection){return $log.debug(rejection),$q.reject(rejection)},response:function(response){return $log.debug("response: ",response),response},responseError:function(rejection){return $log.debug(rejection),$q.reject(rejection)}}}httpInterceptor.$inject=["$q","$log"],angular.module("common.interceptors.http",[]).factory("httpInterceptor",httpInterceptor)}(),function(){"use strict";function dataService(){return{get:function(){return["some","data"]}}}angular.module("common.services.data",[]).factory("DataService",dataService)}(),function(){"use strict";function uppercase(){return function(text){return text?text.toUpperCase():text}}angular.module("common.filters.uppercase",[]).filter("uppercase",uppercase)}(),function(){"use strict";function headerCtrl($log){$log.debug("Header loaded")}headerCtrl.$inject=["$log"],angular.module("common.header",[]).controller("HeaderCtrl",headerCtrl)}(),function(){"use strict";function footerCtrl($log){$log.debug("Footer loaded")}footerCtrl.$inject=["$log"],angular.module("common.footer",[]).controller("FooterCtrl",footerCtrl)}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/common/footer.tpl.html",'<div class="pure-g">\n  <div class="pure-u-1 text-center">\n    <p>&copy; 2014 - Sint & Piet</a>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/common/header.tpl.html",'<div class="pure-g">\n  <div class="pure-u-1 text-center island">\n    <img class="pure-img" src="assets/images/sinterklaasquiz.png">\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/getting-started/getting-started.tpl.html",'<div class="pure-g island3">\n  <div class="content pure-u-1">\n    <p class="island-panel">\n      <strong>Note that this is only a getting started guide, for more detailed information about the build system, the available tasks, the configuration of the build or anything else, please refer to the <a href="https://github.com/vesparny/angular-kickstart/#readme" target="_blank">documentation</a> on the GitHub project.</strong>\n    </p>\n\n    <h3>What and Why</h3>\n    <p>\n      <code>angular-kickstart</code> is an opinionated kickstart for single page application development with AngularJS. It makes your development and testing easy, keeps the structure of the project consistent and allows you to create a fully optimized\n      production release withe ease. After having developed a lot of AngularJS projects I decided to collect here what I\'ve learnt.\n    </p>\n\n    <h3>Getting started</h3>\n    <p>\n      Install\n      <strong><a href="https://github.com/joyent/node/wiki/installation" target="_blank">node.js</a></strong>. Then\n      <strong>sass, gulp and bower</strong> if you haven\'t yet.\n    </p>\n\n    <pre>\n    <code>\n    $ gem install sass\n    $ npm -g install gulp bower\n    </code>\n</pre>\n\n    <p>\n      After that, install\n      <code>angular-kickstart</code> - download the <a href="https://github.com/vesparny/angular-kickstart/releases/latest">latest</a> release (or clone the master branch if want to run the development version). Unzip the project and cd into it, then\n      install bower and npm dependencies, and run the application in development mode.\n    </p>\n\n    <pre>\n    <code>\n    $ npm install\n    $ bower install\n    $ gulp serve\n    </code>\n</pre>\n\n    <p>\n      You are now ready to go, your applcation is available at <code>http://127.0.0.1:3000</code>.\n    </p>\n    <p>\n      You are now ready to start coding, every file you add, edit or delete into the\n      <code>/client</code> folder, will be handled by the build system and the browser will reload.\n    </p>\n    <p>\n      When you are ready to build a production release there is a task for that.\n    </p>\n\n    <pre>\n    <code>\n    $ gulp serve:dist\n    </code>\n</pre>\n\n    <p>\n      This task will lint your code, optimize css js and images files, run unit tests. After the task has successfully finished, you can find an optimized version of your project in the\n      <code>/build/dist</code> folder.\n    </p>\n\n    <p>\n      Other tasks are available:\n    </p>\n\n    <pre>\n    <code>\n    #for developing running unit test on every file change.\n    $ gulp serve:tdd\n\n    #for running e2e test. (you application should be running on http://127.0.0.1:3000)\n    $ gulp test:e2e\n\n    #for running unit tests one time then exit.\n    $ gulp test:unit\n    </code>\n</pre>\n    <p class="text-center">\n      <a href="https://github.com/vesparny/angular-kickstart/#readme" target="_blank" class="pure-button button-xlarge pure-button-primary">\n        Full documentation on GitHub\n      </a>\n    </p>\n\n  </div>\n</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/home/home.tpl.html",'<div class="pure-g">\n  <div class="island3 pure-u-1 pure-u-lg-2-3">\n    <h1>Welkom bij de Sinterklaas Quiz</h1>\n    <h3>Je moet alle vragen goed beantwoorden om locatie van je cadeautje te achterhalen <strong>Succes!</strong></h3>\n  </div>\n  <div class="island3 pure-u-1 pure-u-lg-1-3">\n    <button ng-click="home.start()" class="pure-button button-xlarge button-expanded button-piet">\n      Start\n    </button>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-puzzle/question-puzzle.tpl.html",'<form class="pure-form">\n  <div class="pure-g word-search">\n    <div class="island pure-u-1">\n      <h1>Sinterklaas Woordzoeker</h1>\n\n      <h3>De overgebleven letter vormen de oplossing</h3>\n    </div>\n    <div class="island pure-u-1 pure-u-md-1-4">\n      <ul class="words">\n        <li ng-repeat="word in question.puzzle.words" ng-class="{\'found\': word.found}">\n          {{word.name}}\n        </li>\n      </ul>\n    </div>\n    <div class="island pure-u-1 pure-u-md-3-4">\n      <word-search-puzzle matrix="question.matrix" words="question.words"\n                          api="question.puzzle"></word-search-puzzle>\n    </div>\n    <!--<div class="status">-->\n      <!--<button ng-click="question.puzzle.solve()" ng-show="!question.puzzle.solved" class="solve">solve</button>-->\n      <!--<strong ng-show="question.puzzle.solved" ng-show="question.puzzle.solved">Solved!</strong>-->\n    <!--</div>-->\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" value="Volgende" ng-click="question.next()"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-rebus/question-rebus.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 3</h1>\n\n      <h3>Vindt x</h3>\n    </div>\n    <div class="island pure-u-1 find-x">\n      <span class="before">5</span>\n      <span class="x" ng-click="question.x()">X</span>\n      <img src="/assets/images/x.svg" alt="find x" width="300" class="middle">\n      <span class="below">6</span>\n    </div>\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" ng-click="question.next()" value="Volgende"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-x/question-x.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 2</h1>\n\n      <h3>Vindt x</h3>\n    </div>\n    <div class="island pure-u-1 find-x">\n      <span class="before">5</span>\n      <span class="x" ng-click="question.x()">X</span>\n      <img src="assets/images/x.svg" alt="find x" width="300" class="middle">\n      <span class="below">6</span>\n    </div>\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" ng-click="question.next()" value="Volgende"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question01/question01.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 1</h1>\n\n      <h3>Sinterklaasje kom maar binnen..</h3>\n    </div>\n    <div class="island pure-u-1">\n      <select ng-model="question.myAnswer" required>\n        <option value="">- Maak een keuze -</option>\n        <option ng-repeat="answer in question.answers" value="{{answer}}">{{answer}}</option>\n      </select>\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input ng-click="question.next()" type="submit" value="Volgende" class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0UsWUFNQSxTQUFBLFFBQUEsZUFBQSxtQkFBQSxhQUFBLGVBQ0UsbUJBQUEsVUFBQSxLQUNBLGFBQUEsY0FBQSxHQUNBLGNBQUEsYUFBQSxLQUFBLG1CQUNBLGVBQ0UsTUFBQSxRQUNFLE9BQ0UsUUFDRSxZQUFBLDZCQUNBLFdBQUEsY0FFRixRQUNFLFlBQUEsNkJBQ0EsV0FBQSxpQkFNVixRQUFBLFVBQUEsTUFBQSxLQUFBLE1BQUEsb0JBSUEsUUFBQSxLQUFBLE1BQ0UsS0FBQSxNQUFBLG1CQTVCRixRQUFBLFFBQUEsVUFBQSxNQUFBLFdBQ0UsUUFBQSxVQUFBLFVBQUEsK0lBNEJGLFFBR0UsT0FBQSxPQUNFLFlBRkosT0FDRSxhQUNFLGtCQUNBLGFBQ0EsaUJBQ0EsZ0JBQ0EsZ0JBQ0EsdUJBQ0EsNEJBQ0EsMkJBQ0EsMkJBQ0EsY0FLRixPQUFBLFFBQ0EsSUFBQSxLQUZBLFdBQUEsV0FBQSxVQUNBLE1BQUEsVUFBQSxZQU1KLFdBRkEsWUFTRSxTQUFBLFFBQUEsZ0JBRkMsZUFDQSxNQUFBLGFBQ0QsSUFBQSxJQUNFLE9BQ0UsS0FDRSxZQUFBLDZCQUNBLFdBQUEsdUJBU04sUUFBQSxVQUFBLFFBQ0MsS0FBQSxNQUFBLFdBQ0EsT0FBQSxHQUFBLGtGQVFELFFBQUEsT0FBQSxXQUhFLE9BQUEsUUFDRCxXQUFBLFdBQUEsYUFPSCxXQUNFLFlBTUEsU0FBQSxRQUFBLGdCQUpBLGVBQ0MsTUFBQSxtQkFDQSxJQUFBLGNBQ0EsT0FDRCxLQUNFLFlBQUEseUNBQ0UsV0FBQSxvQ0FlSixRQUFBLG1CQUFBLFFBQ0UsS0FBQSxTQUxGLGdCQUNDLGVBQ0Esd0NBQ0EsNENBRUMsS0FBQSxLQUFBLFdBQ0UsS0FBQSxXQUFBLEtBQUEsUUFBQSxHQUNBLE9BQUEsR0FBQSxtQkFFQSxLQUFBLE9BQUEsR0FFRixLQUFBLDZFQVNGLFFBQUEsT0FBQSxpQkFDRSxPQUFBLFFBQ0EsV0FBQSxvQkFORSxzQkFTTixXQUNFLFlBREYsU0FBQSxRQUFBLGdCQUNFLGVBUUksTUFBQSx3QkFOSixJQUFBLG1CQUNDLE9BQ0EsS0FDQSxZQUFBLG1EQUNELFdBQUEscUNBaUJBLFFBQUEsb0JBQUEsUUFOQyxLQUFBLFNBUUcsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFQSixJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0MsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0QsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNFLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDRSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFVRixLQUFBLE9BUEUsUUFDQSxhQUNBLE1BQ0EsV0FDQSxPQUNBLFVBQ0YsV0FDQSxPQUNFLGFBQ0EsUUFDQSxTQUNBLE9BQ0EsU0FDQSxRQUNBLGNBQ0EsYUFDQSxPQUNBLE1BQ0EsV0FDQSxTQUNBLGNBQ0EsY0FDQSxTQUNBLFlBQ0EsYUFDQSxXQUNBLFFBQ0EsaUJBQ0EsU0FDQSxNQUNBLFFBVUYsS0FBQSxLQUFBLFlBUEUsR0FBQSxLQUFBLFVBQUEsZ0JBQUEsOEJBQUEsY0FDQSxPQUFBLEdBQUEsZUFFQSxLQUFBLE9BQUEsR0FVRixLQUFBLE1BR0YsUUFBQSwyQkFPRSxRQUFBLGtCQUFBLE9BQUEsT0FDRSxHQUFBLFFBQUEsRUFSSixPQUFBLENBTUcsTUFBQSxVQWVDLEtBQUEsU0FNQSxLQUFBLFFBQUEsRUFOQSxRQUFBLFFBQUEsT0FBQSxTQUFBLFFBQUEsS0FVRSxRQUFBLFFBQUEsUUFBQSxTQUFBLE9BQUEsS0FSRixHQUFBLE9BQ0MsT0FBQSxPQUNBLElBQUEsSUFDQSxJQUFBLElBQ0QsTUFBQSxFQUVBLE1BQUEsT0FBQSxPQUNBLEtBQUEsT0FBQSxTQUVJLEtBQUEsT0FBQSxLQUFBLEtBQUEsTUFVQSxPQUFBLEtBQ0YsTUFDQSxPQUFBLEtBQ0YsTUFDQSxRQUFBLFFBQUEsTUFBQSxTQUFBLE1BQ0UsS0FBQSxNQUFBLE1BQ0UsS0FBQSxRQUVKLE1BUUEsS0FBQSxRQUFBLFNBQUEsSUFBQSxLQVJBLE1BQUEsTUFBQSxPQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxRQW9CQSxLQUFBLFNBQUEsU0FBQSxRQUFBLFFBQUEsTUFBQSxPQVJBLEdBQUEsU0FTRSxJQVBELE1BQUEsU0FDQSxNQUFBLFFBRUEsTUFBQSxTQUNBLE1BQUEsUUFHQyxTQUFBLEtBQUEsUUFBQSxNQUFBLE9BVUUsTUFBQSxNQU5GLElBQUEsVUFBQSxPQUFBLFVBQUEsT0FBQSxLQUFBLElBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxNQUFBLFNBQUEsQ0FDQSxHQUFBLFFBQUEsVUFBQSxNQUFBLEVBQUEsTUFBQSxRQUFBLEVBQUEsR0FDRSxPQUFBLFVBQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxFQUFBLEdBQ0YsSUFBQSxRQVVJLElBQUEsT0FQRixPQUFBLEtBQUEsS0FBQSxRQUFBLElBQUEsS0FDRixHQVVJLE1BQUEsT0FSSixLQUFBLE9BQ0UsTUFBQSxLQUFBLEtBQUEsUUFBQSxJQUFBLFlBVUEsTUFBQSxPQUFBLE1BQUEsT0FHRixNQUFBLFFBT0YsS0FBQSxPQUFBLFNBQUEsT0FDRSxHQUFBLE1BQUEsT0FBQSxDQUpELEdBQUEsUUFBQSxHQUNBLFNBQUEsUUFBQSxNQUFBLFNBQUEsTUFDQSxNQUFBLElBQUEsS0FBQSxTQUVDLE1BQUEsS0FBQSxNQUFBLEdBQUEsTUFBQSxJQUFBLFVBQUEsS0FBQSxLQVlBLEtBQUEsUUFBQSxFQVJBLFFBQUEsUUFBQSxLQUFBLE1BQUEsU0FBQSxNQUNBLEtBQUEsUUFHQSxRQUFBLFFBQUEsTUFBQSxTQUFBLFVBQ0EsS0FBQSxPQUFBLFdBVU0sS0FBQSxPQUFBLEVBUk4sUUFBQSxRQUFBLE1BQUEsU0FBQSxNQUNBLEtBQUEsT0FBQSxPQUlFLEtBQUEsUUFDQSxLQUFBLFFBQUEsS0FXRixRQU1GLEtBQUEsTUFBQSxXQUNFLEdBQUEsVUFSRSxZQUNGLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUNGLElBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUlDLFNBQUEsUUFBQSxLQUFBLE9BQUEsU0FBQSxPQUNELFFBQUEsUUFBQSxNQUFBLFNBQUEsTUFDRSxNQUFBLEtBQUEsVUFDRSxNQUFBLEtBQUEsWUFFRSxNQUFBLEtBQUEsUUFBQSxLQUFBLFVBSUosUUFBQSxRQUFBLEtBQUEsTUFBQSxTQUFBLE1BQ0UsUUFBQSxRQUFBLE1BQUEsS0FBQSxLQUFBLE9BQUEsSUFBQSxTQUFBLE9BQ0UsS0FBQSxPQUdBLFFBQUEsUUFBQSxXQUFBLFNBQUEsT0FDRixLQUFBLE9BR0YsS0FBQSxPQUFBLEtBQUEsU0FDRSxNQUFBLElBQUEsTUFBQSxJQUNFLE1BQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxHQUFBLE1BQUEsR0FDRSxNQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsR0FBQSxNQUFBLE1BRUYsT0FVRixPQUNGLE9BSUosTUFBQSxVQUFBLE9BQUEsT0FDRSxNQUFBLElBQUEsa0JBQUEsT0FBQSxRQUlKLFFBQUEsMkJBQUEsa0JBQ0UsT0FSQSxTQUFBLEtBVUUsU0FBQSxFQVJGLFNBQUEsb2dCQVVFLE9BQ0EsT0FBQSxJQUNBLE1BQUEsSUFDRSxJQUFBLEtBRUYsS0FBQSxTQUFBLE1BQUEsUUFBQSxPQUNBLEdBQUEsV0FHQSxPQUFBLE9BQUEsU0FBQSxTQUFBLFFBQ0UsTUFBQSxPQUFBLGlCQUFBLE9BQUEsTUFBQSxPQUdGLE1BQUEsTUFDQSxNQUFBLElBQUEsTUFBQSxVQWlCRSxNQUFBLFlBTUEsTUFBQSxZQUFBLFNBQUEsTUFSQyxXQUFBLEtBQ0EsUUFBQSxRQUFBLFNBQUEsTUFBQSxJQUFBLFdBQUEsV0FPRCxNQUFBLFlBQUEsU0FBQSxNQUNFLGFBQ0EsTUFBQSxTQUFBLE1BQUEsT0FBQSxTQUFBLFdBQUEsSUFBQSxXQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsT0FhRixNQUFBLGNBQUEsV0FSQyxRQUFBLFFBQUEsU0FBQSxNQUFBLElBQUEsV0FBQSxXQVlELE1BQUEsYUFBQSxXQUNFLFFBQUEsUUFBQSxTQUFBLE1BQUEsSUFBQSxXQUFBLFNBSEYsTUFBQSxVQUFBLFdBVUUsV0FBQSxLQVJGLE1BQUEsT0FBQSxPQUFBLE1BQUEsVUFDRSxNQUFBLFlBQ0YsUUFBQSxRQUFBLFNBQUEsTUFBQSxJQUFBLFdBQUEsU0FhQSxNQUFBLE9BQUEsV0FBQSxTQUFBLFNBQUEsVUFSQSxRQUFBLFFBQUEsU0FBQSxTQUFBLE1BQ0UsS0FBQSxVQUFBLElBRUEsUUFBQSxRQUFBLFNBQUEsU0FBQSxNQUNBLEtBQUEsVUFBQSx1SUFnQlIsU0FBQSxpQkFBQSxZQUFBLFNBQUEsR0FDRSxFQUFBLG1CQUNGLEVBR0EsSUFBQSxpQkFBQSxRQUFBLE9BQUEsc0JBUkUsT0FBQSxRQUNELFFBQUEsbUJBQUEseUJBVUMsVUFBQSxtQkFBNEIsMkJBQzVCLFdBQUEscUJBQStCLG1CQUVqQyxTQUFBLFFBVEEsbUdBQUEsTUFBQSxLQVdFLFNBQUEsV0FDRSxHQUFBLGVBQUEsT0FBQSxTQVRKLGlCQUFBLFVBQUEsZUFBQSxTQUFBLFNBQUEsUUFDRSxNQUFBLFVBQUEsTUFBQSxRQUFBLE1BQ0EsR0FBQSxJQUFBLE9BQUEsS0FBQSxlQUNBLFNBQUEsS0FBQSxVQUFBLFNBQUEsT0FDQSxNQUFBLE9BQUEsV0FXVSxHQUFBLE9BQUEsT0FBQSxxQkFTZCxXQUNFLFlBSkEsU0FBQSxRQUFBLGdCQUNGLGVBV00sTUFBQSxtQkFUTixJQUFBLGNBQ0UsT0FXUSxLQVRSLFlBQUEseUNBQ0MsV0FBQSxnQ0FvQkQsUUFBQSxlQUFBLFFBQ0UsS0FBQSxFQUFBLFdBQ0UsT0FBQSxHQUFBLHlCQUdGLEtBQUEsS0FBQSxXQUNFLEtBQUEsT0FBQSxHQVZKLEtBQUEseUVBY0EsUUFBQSxPQUFBLGlCQVZBLE9BQUEsUUFDRSxXQUFBLGdCQUFBLGtCQWNKLFdBQ0UsWUFOQSxTQUFBLFFBQUEsZ0JBQ0UsZUFDQSxNQUFBLHVCQUNKLElBQUEsa0JBYVEsT0FYUixLQUNFLFlBQUEsaURBYVUsV0FBQSxvQ0FVVixRQUFBLG1CQUFBLFFBQ0UsS0FBQSxFQUFBLFdBQ0UsT0FBQSxHQUFBLHlCQUdGLEtBQUEsS0FBQSxXQVhELEtBQUEsT0FBQSxHQWFDLEtBQUEsNkVBR0YsUUFBQSxPQUFBLHFCQVpDLE9BQUEsUUFDQSxXQUFBLG9CQUFBLHNCQWdCSCxXQUNFLFlBRUEsU0FBQSxrQkFBQSxTQUNFLE9BWkEsU0FBQSxJQWVFLEtBQUEsU0FBQSxNQUFBLEtBQ0UsSUFBQSxLQUFBLGdEQUtOLFFBQUEsT0FBQSxnQ0FiRixVQUFBLGFBQUEscUJBaUJBLFdBQ0UsWUFFQSxTQUFBLGlCQUFBLEdBQUEsTUFDRSxPQUNFLFFBQUEsU0FBQSxRQWJBLE1BQUEsU0FFSCxhQUFBLFNBQUEsV0FnQkssTUFEQSxNQUFBLE1BQUEsV0FDQSxHQUFBLE9BQUEsWUFiSixTQUFBLFNBQUEsVUFpQkksTUFoQlIsTUFBQSxNQUFBLGFBQUEsVUFnQlEsVUFiTixjQUFBLFNBQUEsV0FFQSxNQWNNLE1BQUEsTUFBQSxXQWROLEdBQUEsT0FBQSxtREFvQkEsUUFBQSxPQUFBLCtCQUNFLFFBQUEsa0JBZkksb0JBa0JSLFdBQ0UsWUFFQSxTQUFBLGVBQ0UsT0FDRSxJQUFBLFdBZEUsT0FBQSxPQUFBLFVBb0JOLFFBQUEsT0FBQSwyQkFmQSxRQUFBLGNBQUEsZ0JBbUJGLFdBZkEsWUFrQkUsU0FBQSxhQWZBLE1BQUEsVUFBQSxNQUNFLE1BQUEsTUFBQSxLQUFBLGNBQUEsTUFvQkYsUUFBQSxPQUFBLCtCQWZBLE9BQUEsWUFBQSxjQW1CRixXQWZBLFlBRUEsU0FBQSxZQUFBLE1BQ0UsS0FBQSxNQUFBLDZDQW1CQSxRQUFBLE9BQUEsb0JBQ0UsV0FBQSxhQWhCRSxlQW1CTixXQWZFLFlBRUYsU0FBQSxZQUFBLE1BaUJJLEtBQUEsTUFBQSw2Q0FHRixRQUFBLE9BQUEsb0JBZkEsV0FBQSxhQUFBLGVBbUJGLFNBQUEsUUFDQSxJQUFBLE9BQUEsUUFBQSxPQUFBLGFBQ0EsTUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLGdCQUNBLE9BQUEsS0FBQSxpQkFBQSxTQUFBLGdCQWhCQSxZQWtCRSxnQkFBQSxJQUFBLDZCQWhCRiw4SEEwQkEsU0FBQSxRQWpCQSxJQUFBLE9BQUEsUUFBQSxPQUFBLGFBbUJBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFqQkEsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0EsWUFDQSxnQkFBQSxJQUFBLDZCQUNBLG1LQVNBLFNBQUEsUUFDQSxJQUFBLE9BQUEsUUFBQSxPQUFBLGFBbUJBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFqQkEsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0EsWUFDQSxnQkFBQSxJQUFBLG1EQUNBLGlpR0E2R0EsU0FBQSxRQUNBLElBQUEsT0FBQSxRQUFBLE9BQUEsYUFDQSxNQUFBLEtBQUEsT0FBQSxRQUFBLE9BQUEsZ0JBQ0EsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0UsWUFDQSxnQkFBQSxJQUFBLDZCQWpCRSxpY0FlSixTQUFBLFFBbUJBLElBQUEsT0FBQSxRQUFBLE9BQUEsYUFDQSxNQUFBLEtBQUEsT0FBQSxRQUFBLE9BQUEsZ0JBQ0EsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0UsWUFDQSxnQkFBQSxJQUFBLG1EQWpCRSxvN0NBMkRKLFNBQUEsUUFDQSxJQUFBLE9BQUEsUUFBQSxPQUFBLGFBQ0EsTUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLGdCQUNBLE9BQUEsS0FBQSxpQkFBQSxTQUFBLGdCQUNFLFlBQ0EsZ0JBQUEsSUFBQSxpREFqQkUsbTdCQW1ESixTQUFBLFFBQ0EsSUFBQSxPQUFBLFFBQUEsT0FBQSxhQUNBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFDQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDRSxZQUNBLGdCQUFBLElBQUEseUNBakJFLGs3QkFtREosU0FBQSxRQUNBLElBQUEsT0FBQSxRQUFBLE9BQUEsYUFDQSxNQUFBLEtBQUEsT0FBQSxRQUFBLE9BQUEsZ0JBQ0EsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0UsWUFDQSxnQkFBQSxJQUFBLHlDQWpCRSIsImZpbGUiOiJhc3NldHMvanMvbWFpbi05ZDViMDY1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydhcHAnXSk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9nUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpIHtcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4gICAgJGxvZ1Byb3ZpZGVyLmRlYnVnRW5hYmxlZCh0cnVlKTtcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdodHRwSW50ZXJjZXB0b3InKTtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290Jywge1xuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdoZWFkZXInOiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9jb21tb24vaGVhZGVyLnRwbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIZWFkZXJDdHJsJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2Zvb3Rlcic6IHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2NvbW1vbi9mb290ZXIudHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Zvb3RlckN0cmwnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIE1haW5DdHJsKCRsb2cpIHtcbiAgICAkbG9nLmRlYnVnKCdNYWluQ3RybCBsYW9kZWQhJyk7XG4gIH1cblxuICBmdW5jdGlvbiBydW4oJGxvZykge1xuICAgICRsb2cuZGVidWcoJ0FwcCBpcyBydW5uaW5nIScpO1xuICB9XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ2FwcCcsIFtcbiAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgJ2hvbWUnLFxuICAgICAgJ3F1ZXN0aW9uMDEnLFxuICAgICAgJ3F1ZXN0aW9uLXB1enpsZScsXG4gICAgICAncXVlc3Rpb24teCcsXG4gICAgICAncXVlc3Rpb24tcmVidXMnLFxuICAgICAgJ2NvbW1vbi5oZWFkZXInLFxuICAgICAgJ2NvbW1vbi5mb290ZXInLFxuICAgICAgJ2NvbW1vbi5zZXJ2aWNlcy5kYXRhJyxcbiAgICAgICdjb21tb24uZGlyZWN0aXZlcy52ZXJzaW9uJyxcbiAgICAgICdjb21tb24uZmlsdGVycy51cHBlcmNhc2UnLFxuICAgICAgJ2NvbW1vbi5pbnRlcmNlcHRvcnMuaHR0cCcsXG4gICAgICAndGVtcGxhdGVzJ1xuICAgIF0pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLnJ1bihydW4pXG4gICAgLmNvbnRyb2xsZXIoJ01haW5DdHJsJywgTWFpbkN0cmwpXG4gICAgLnZhbHVlKCd2ZXJzaW9uJywgJzEuMC4yJyk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgIGNvbmZpZ1xuICAgKiBAZGVzY3JpcHRpb24gY29uZmlnIGJsb2NrXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290LmhvbWUnLCB7XG4gICAgICAgIHVybDogJy8nLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdAJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL2hvbWUvaG9tZS50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwgYXMgaG9tZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICBIb21lQ3RybFxuICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlclxuICAgKi9cbiAgZnVuY3Rpb24gSG9tZUN0cmwoJHN0YXRlKSB7XG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc3RhdGUuZ28oJ3Jvb3QucXVlc3Rpb24wMScpO1xuICAgIH07XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgnaG9tZScsIFtdKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb250cm9sbGVyKCdIb21lQ3RybCcsIEhvbWVDdHJsKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgIGNvbmZpZ1xuICAgKiBAZGVzY3JpcHRpb24gY29uZmlnIGJsb2NrXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290LnF1ZXN0aW9uMDEnLCB7XG4gICAgICAgIHVybDogJy9xdWVzdGlvbjAxJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnQCc6IHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC9xdWVzdGlvbjAxL3F1ZXN0aW9uMDEudHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0ZpcnN0UXVlc3Rpb25DdHJsIGFzIHF1ZXN0aW9uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWUgIEhvbWVDdHJsXG4gICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyXG4gICAqL1xuICBmdW5jdGlvbiBGaXJzdFF1ZXN0aW9uQ3RybCgkc3RhdGUpIHtcbiAgICB0aGlzLmFuc3dlcnMgPSBbXG4gICAgICAnbWV0IGplIGtuZWNodCcsXG4gICAgICAnbWV0IGplIHNsYWFmJyxcbiAgICAgICdFciBrb210IGhpZXIgaGVsZW1hYWwgbmllbWFuZCBiaW5uZW4hJyxcbiAgICAgICdaZSB6aWpuIGFsIGdld2Vlc3QgdmFuIGhldCBMaWxpYW5lIEZvbmRzJ1xuICAgIF07XG4gICAgdGhpcy5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMubXlBbnN3ZXIgPT09IHRoaXMuYW5zd2Vyc1swXSkge1xuICAgICAgICAkc3RhdGUuZ28oJ3Jvb3QucXVlc3Rpb24teCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ3F1ZXN0aW9uMDEnLCBbXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29udHJvbGxlcignRmlyc3RRdWVzdGlvbkN0cmwnLCBGaXJzdFF1ZXN0aW9uQ3RybCk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lICBjb25maWdcbiAgICogQGRlc2NyaXB0aW9uIGNvbmZpZyBibG9ja1xuICAgKi9cbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgncm9vdC5xdWVzdGlvbi1wdXp6bGUnLCB7XG4gICAgICAgIHVybDogJy9xdWVzdGlvbi1wdXp6bGUnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdAJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3F1ZXN0aW9uLXB1enpsZS9xdWVzdGlvbi1wdXp6bGUudHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1B1enpsZVF1ZXN0aW9uQ3RybCBhcyBxdWVzdGlvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICBIb21lQ3RybFxuICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlclxuICAgKi9cbiAgZnVuY3Rpb24gUHV6emxlUXVlc3Rpb25DdHJsKCRzdGF0ZSkge1xuICAgIHRoaXMubWF0cml4ID0gW1xuICAgICAgWydEJywgJ0UnLCAnUycsICdDJywgJ0gnLCAnSScsICdNJywgJ00nLCAnRScsICdMJywgJ1MnLCAnVScsICdSJywgJ0UnXSxcbiAgICAgIFsnUCcsICdUJywgJ1InLCAnRScsICdJJywgJ1MnLCAnUycsICdFJywgJ00nLCAnQicsICdMJywgJ0knLCAnSicsICdHJ10sXG4gICAgICBbJ1InLCAnRScsICdTJywgJ1MnLCAnSycsICdSJywgJ1UnLCAnSScsICdEJywgJ04nLCAnTycsICdUJywgJ0UnLCAnTiddLFxuICAgICAgWydFJywgJ0knLCAnVCcsICdJJywgJ1onLCAnRScsICdKJywgJ1InLCAnRScsICdMJywgJ1MnLCAnTScsICdTJywgJ1QnXSxcbiAgICAgIFsnQicsICdQJywgJ08nLCAnUicsICdPJywgJ1QnLCAnRycsICdPJywgJ0MnLCAnSicsICdBJywgJ0snLCAnRScsICdNJ10sXG4gICAgICBbJ00nLCAnRScsICdPJywgJ1AnLCAnRScsICdUJywgJ0knLCAnRScsICdJJywgJ1knLCAnTicsICdBJywgJ0EnLCAnTiddLFxuICAgICAgWydFJywgJ1AnLCAnTScsICdSJywgJ1QnLCAnRScsICdOJywgJ0wnLCAnWicsICdBJywgJ0QnLCAnQScsICdSJywgJ1onXSxcbiAgICAgIFsnQycsICdFJywgJ0InLCAnVScsICdEJywgJ0wnLCAnRycsICdEJywgJ1QnLCAnRScsICdOJywgJ04nLCAnUCcsICdTJ10sXG4gICAgICBbJ0UnLCAnUicsICdPJywgJ1MnLCAnSScsICdOJywgJ1QnLCAnRScsICdSJywgJ0snLCAnTCcsICdBJywgJ0EnLCAnUyddLFxuICAgICAgWydEJywgJ04nLCAnTycsICdWJywgJ0EnLCAnUycsICdFJywgJ0onLCAnSycsICdBJywgJ1AnLCAnTCcsICdFJywgJ0MnXSxcbiAgICAgIFsnQScsICdPJywgJ1QnLCAnTCcsICdFJywgJ1QnLCAnUicsICdPJywgJ1cnLCAnRCcsICdBJywgJ0YnLCAnSScsICdGJ10sXG4gICAgICBbJ1MnLCAnVCcsICdSJywgJ08nLCAnTycsICdJJywgJ0cnLCAnTycsICdFJywgJ0QnLCAnQScsICdQJywgJ0knLCAnRyddLFxuICAgICAgWydOJywgJ0UnLCAnRScsICdUJywgJ1MnLCAnUicsICdPJywgJ08nLCAnSCcsICdDJywgJ1MnLCAnVScsICdUJywgJ08nXSxcbiAgICAgIFsnVicsICdOJywgJ0UnLCAnTycsICdIJywgJ0MnLCAnUycsICdHJywgJ0UnLCAnRCcsICdJJywgJ0MnLCAnSCcsICdUJ11cbiAgICBdO1xuICAgIHRoaXMud29yZHMgPSBbXG4gICAgICAnQk9NRU4nLFxuICAgICAgJ0NBTkRZQ1JVU0gnLFxuICAgICAgJ0RBSycsXG4gICAgICAnREVDRU1CRVInLFxuICAgICAgJ0ZJRkEnLFxuICAgICAgJ0dFRElDSFQnLFxuICAgICAgJ0dFWkVMTElHJyxcbiAgICAgICdJUEFEJyxcbiAgICAgICdLUlVJRE5PVEVOJyxcbiAgICAgICdMQUFSUycsXG4gICAgICAnTEVUVEVSJyxcbiAgICAgICdNQUFOJyxcbiAgICAgICdNSUpURVInLFxuICAgICAgJ1BBQVJEJyxcbiAgICAgICdQQUtKRVNBVk9ORCcsXG4gICAgICAnUEVQRVJOT1RFTicsXG4gICAgICAnUElFVCcsXG4gICAgICAnUk9FJyxcbiAgICAgICdTQ0hJTU1FTCcsXG4gICAgICAnU0NIT0VOJyxcbiAgICAgICdTQ0hPT1JTVEVFTicsXG4gICAgICAnU0lOVEVSS0xBQVMnLFxuICAgICAgJ1NQQU5KRScsXG4gICAgICAnU1RPT01CT09UJyxcbiAgICAgICdTVFJPT0lHT0VEJyxcbiAgICAgICdTVVJQUklTRScsXG4gICAgICAnVEFOS1MnLFxuICAgICAgJ1ZFUkxBTkdMSUpTVEpFJyxcbiAgICAgICdXT1JURUwnLFxuICAgICAgJ1pBSycsXG4gICAgICAnWk9FVCdcbiAgICBdO1xuICAgIHRoaXMubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgoJycgKyB0aGlzLm15QW5zd2VyKS50b0xvd2VyQ2FzZSgpID09PSAnRGUgc3VycHJpc2UgbGlndCBpbiBkZSBhdXRvJy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICRzdGF0ZS5nbygncm9vdC5maW5pc2gnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdvcmRTZWFyY2hQdXp6bGVGYWN0b3J5KCkge1xuICAgIC8qKlxuICAgICAqIFdvcmQgc2VhcmNoIHB1enpsZVxuICAgICAqIEBwYXJhbSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gd29yZHNcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBXb3JkU2VhcmNoUHV6emxlKG1hdHJpeCwgd29yZHMpIHtcbiAgICAgIHZhciBtYXhSb3cgPSAwLFxuICAgICAgICBtYXhDb2wgPSAwO1xuXG4gICAgICAvKipcbiAgICAgICAqIE1hdHJpeFxuICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICovXG4gICAgICB0aGlzLm1hdHJpeCA9IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIFdvcmRzXG4gICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgKi9cbiAgICAgIHRoaXMud29yZHMgPSBbXTtcblxuICAgICAgLyoqXG4gICAgICAgKiBJcyBzb2x2ZWQ/XG4gICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5zb2x2ZWQgPSBmYWxzZTtcblxuICAgICAgLy8gcGFyc2UgbWF0cml4IGFuZCB3b3Jkc1xuICAgICAgYW5ndWxhci5mb3JFYWNoKG1hdHJpeCwgZnVuY3Rpb24gKGxldHRlcnMsIHJvdykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gobGV0dGVycywgZnVuY3Rpb24gKGxldHRlciwgY29sKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSB7XG4gICAgICAgICAgICBsZXR0ZXI6IGxldHRlcixcbiAgICAgICAgICAgIGNvbDogY29sLFxuICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICB1c2VkOiBmYWxzZVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKCF0aGlzLm1hdHJpeFtyb3ddKSB7XG4gICAgICAgICAgICB0aGlzLm1hdHJpeFtyb3ddID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMubWF0cml4W3Jvd10ucHVzaChpdGVtKTtcbiAgICAgICAgICBtYXhDb2wgPSBjb2w7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBtYXhSb3cgPSByb3c7XG4gICAgICB9LCB0aGlzKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh3b3JkcywgZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgdGhpcy53b3Jkcy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiB3b3JkXG4gICAgICAgIH0pO1xuICAgICAgfSwgdGhpcyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBtYXRyaXggaXRlbSBieSBjb29yZHNcbiAgICAgICAqIEBwYXJhbSBjb2xcbiAgICAgICAqIEBwYXJhbSByb3dcbiAgICAgICAqIEByZXR1cm4geyp9XG4gICAgICAgKi9cbiAgICAgIHRoaXMuZ2V0SXRlbSA9IGZ1bmN0aW9uIChjb2wsIHJvdykge1xuICAgICAgICByZXR1cm4gKHRoaXMubWF0cml4W3Jvd10gPyB0aGlzLm1hdHJpeFtyb3ddW2NvbF0gOiB1bmRlZmluZWQpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIG1hdHJpeCBpdGVtcyBieSBzdGFydC9lbmQgY29vcmRzXG4gICAgICAgKiBAcGFyYW0gY29sRnJvbVxuICAgICAgICogQHBhcmFtIHJvd0Zyb21cbiAgICAgICAqIEBwYXJhbSBjb2xUb1xuICAgICAgICogQHBhcmFtIHJvd1RvXG4gICAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgICAqL1xuICAgICAgdGhpcy5nZXRJdGVtcyA9IGZ1bmN0aW9uIChjb2xGcm9tLCByb3dGcm9tLCBjb2xUbywgcm93VG8pIHtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgICAgaWYgKHJvd1RvID4gbWF4Um93KSB7XG4gICAgICAgICAgcm93VG8gPSBtYXhSb3c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbFRvID4gbWF4Q29sKSB7XG4gICAgICAgICAgY29sVG8gPSBtYXhDb2w7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nZXRJdGVtKGNvbFRvLCByb3dUbykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb2xGcm9tID09PSBjb2xUbyB8fCByb3dGcm9tID09PSByb3dUbyB8fCBNYXRoLmFicyhjb2xUbyAtIGNvbEZyb20pID09PSBNYXRoLmFicyhyb3dUbyAtIHJvd0Zyb20pKSB7XG4gICAgICAgICAgdmFyIHNoaWZ0WCA9IChjb2xGcm9tID09PSBjb2xUbyA/IDAgOiAoY29sVG8gPiBjb2xGcm9tID8gMSA6IC0xKSksXG4gICAgICAgICAgICBzaGlmdFkgPSAocm93RnJvbSA9PT0gcm93VG8gPyAwIDogKHJvd1RvID4gcm93RnJvbSA/IDEgOiAtMSkpLFxuICAgICAgICAgICAgY29sID0gY29sRnJvbSxcbiAgICAgICAgICAgIHJvdyA9IHJvd0Zyb207XG5cbiAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuZ2V0SXRlbShjb2wsIHJvdykpO1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbCArPSBzaGlmdFg7XG4gICAgICAgICAgICByb3cgKz0gc2hpZnRZO1xuICAgICAgICAgICAgaXRlbXMucHVzaCh0aGlzLmdldEl0ZW0oY29sLCByb3cpKTtcbiAgICAgICAgICB9IHdoaWxlIChjb2wgIT09IGNvbFRvIHx8IHJvdyAhPT0gcm93VG8pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDaGVjayBpdGVtcyAtIGZpbmQgd29yZFxuICAgICAgICogQHBhcmFtIGl0ZW1zXG4gICAgICAgKi9cbiAgICAgIHRoaXMubG9va3VwID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHdvcmRzXG4gICAgICAgIHZhciB3b3JkcyA9IFsnJ107XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICB3b3Jkc1swXSArPSBpdGVtLmxldHRlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHdvcmRzLnB1c2god29yZHNbMF0uc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKSk7XHQvLyB3b3JkIGluIHJldmVyc2Ugb3JkZXIgKHdoZW4gc2VsZWN0aW5nKVxuXG4gICAgICAgIC8vIGNoZWNrIHdvcmRzXG4gICAgICAgIHRoaXMuc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMud29yZHMsIGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgICAgaWYgKHdvcmQuZm91bmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHdvcmRzLCBmdW5jdGlvbiAoaXRlbVdvcmQpIHtcbiAgICAgICAgICAgIGlmICh3b3JkLm5hbWUgPT09IGl0ZW1Xb3JkKSB7XG4gICAgICAgICAgICAgIHdvcmQuZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghd29yZC5mb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5zb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBTb2x2ZXMgcHV6emxlXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc29sdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHt9LFxuICAgICAgICAgIGRpcmVjdGlvbnMgPSB7XG4gICAgICAgICAgICBOOiBbMCwgLTFdLCBFOiBbMSwgMF0sIFM6IFswLCAxXSwgVzogWy0xLCAwXSxcbiAgICAgICAgICAgIE5FOiBbMSwgLTFdLCBOVzogWy0xLCAtMV0sIFNFOiBbMSwgMV0sIFNXOiBbLTEsIDFdXG4gICAgICAgICAgfTtcblxuICAgICAgICAvLyBncm91cCBpdGVtcyBieSBsZXR0ZXJzIGZvciBmYXN0ZXIgc2VhcmNoXG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLm1hdHJpeCwgZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKCFzdGFydFtpdGVtLmxldHRlcl0pIHtcbiAgICAgICAgICAgICAgc3RhcnRbaXRlbS5sZXR0ZXJdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydFtpdGVtLmxldHRlcl0ucHVzaChpdGVtKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMud29yZHMsIGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0YXJ0W3dvcmQubmFtZS5jaGFyQXQoMCldLCBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICAgICAgICAgIGlmICh3b3JkLmZvdW5kKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkaXJlY3Rpb25zLCBmdW5jdGlvbiAoc2hpZnQpIHtcbiAgICAgICAgICAgICAgaWYgKHdvcmQuZm91bmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5sb29rdXAodGhpcy5nZXRJdGVtcyhcbiAgICAgICAgICAgICAgICBzdGFydC5jb2wsIHN0YXJ0LnJvdyxcbiAgICAgICAgICAgICAgICBzdGFydC5jb2wgKyAod29yZC5uYW1lLmxlbmd0aCAtIDEpICogc2hpZnRbMF0sXG4gICAgICAgICAgICAgICAgc3RhcnQucm93ICsgKHdvcmQubmFtZS5sZW5ndGggLSAxKSAqIHNoaWZ0WzFdXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKG1hdHJpeCwgd29yZHMpIHtcbiAgICAgIHJldHVybiBuZXcgV29yZFNlYXJjaFB1enpsZShtYXRyaXgsIHdvcmRzKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd29yZFNlYXJjaFB1enpsZURpcmVjdGl2ZSh3b3JkU2VhcmNoUHV6emxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlOiAnPHRhYmxlIGNsYXNzPVwid29yZC1zZWFyY2gtcHV6emxlXCIgbmctY2xhc3M9XCJ7XFwncHV6emxlLXNvbHZlZFxcJzogcHV6emxlLnNvbHZlZH1cIiBoYW5kcG9pbnRlcmVudGVyPVwiZGlzYWJsZVNjcm9sbCgpXCIgaGFuZHBvaW50ZXJsZWF2ZT1cImVuYWJsZVNjcm9sbCgpXCI+JyArXG4gICAgICAnPHRyIG5nLXJlcGVhdD1cIml0ZW1zIGluIHB1enpsZS5tYXRyaXhcIj4nICtcbiAgICAgICc8dGQgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiIHVuc2VsZWN0YWJsZT1cIm9uXCInICtcbiAgICAgICcgbmctY2xhc3M9XCJ7XFwncHV6emxlLWZvdW5kXFwnOiBpdGVtLmZvdW5kLCBcXCdwdXp6bGUtc2VsZWN0ZWRcXCc6IGl0ZW0uc2VsZWN0ZWQsIFxcJ3B1enpsZS1tZXNzYWdlXFwnOiBwdXp6bGUuc29sdmVkICYmICFpdGVtLmZvdW5kfVwiJyArXG4gICAgICAgIC8vICcgbmctbW91c2Vkb3duPVwic2VsZWN0U3RhcnQoaXRlbSlcIiBuZy1tb3VzZXVwPVwic2VsZWN0RW5kKClcIiBuZy1tb3VzZWVudGVyPVwic2VsZWN0RW50ZXIoaXRlbSlcIiA+JyArXG4gICAgICAnIGhhbmRwb2ludGVyZW50ZXI9XCJzZWxlY3RFbnRlcihpdGVtKVwiIGhhbmRwb2ludGVyZG93bj1cInNlbGVjdFN0YXJ0KGl0ZW0pXCIgaGFuZHBvaW50ZXJ1cD1cInNlbGVjdEVuZCgpXCIgPicgK1xuICAgICAgJyA8c3Bhbj57e2l0ZW0ubGV0dGVyfX08L3NwYW4+JyArXG4gICAgICAnPC90ZD4nICtcbiAgICAgICc8L3RyPicgK1xuICAgICAgJzwvdGFibGU+JyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1hdHJpeDogJz0nLFxuICAgICAgICB3b3JkczogJz0nLFxuICAgICAgICBhcGk6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIHNlbGVjdEZyb207XG5cbiAgICAgICAgLy8gc2V0dXAgcHV6emxlXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnbWF0cml4JywgZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAgIHNjb3BlLnB1enpsZSA9IHdvcmRTZWFyY2hQdXp6bGUobWF0cml4LCBzY29wZS53b3Jkcyk7XG5cbiAgICAgICAgICAvLyBsaW5rIHNlcnZpY2VcbiAgICAgICAgICBpZiAoYXR0cnMuYXBpKSB7XG4gICAgICAgICAgICBzY29wZS5hcGkgPSBzY29wZS5wdXp6bGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0ZWQgaXRlbXNcbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGUuc2VsZWN0ZWQgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0aW9uIHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZS5zZWxlY3RTdGFydCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgc2VsZWN0RnJvbSA9IGl0ZW07XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdGlvbiBlbnRlciAob3ZlcilcbiAgICAgICAgICogQHBhcmFtIGl0ZW1cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlLnNlbGVjdEVudGVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBpZiAoc2VsZWN0RnJvbSkge1xuICAgICAgICAgICAgc2NvcGUuc2VsZWN0ZWQgPSBzY29wZS5wdXp6bGUuZ2V0SXRlbXMoc2VsZWN0RnJvbS5jb2wsIHNlbGVjdEZyb20ucm93LCBpdGVtLmNvbCwgaXRlbS5yb3cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5kaXNhYmxlU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLmVuYWJsZVNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuY3NzKCdvdmVyZmxvdycsICdhdXRvJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdGlvbiBlbmRcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlLnNlbGVjdEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxlY3RGcm9tID0gbnVsbDtcbiAgICAgICAgICBzY29wZS5wdXp6bGUubG9va3VwKHNjb3BlLnNlbGVjdGVkKTtcbiAgICAgICAgICBzY29wZS5zZWxlY3RlZCA9IFtdO1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBwcm9wYWdhdGUgc2VsZWN0aW9uIHN0YXRlIHRvIG1hdHJpeFxuICAgICAgICBzY29wZS4kd2F0Y2goJ3NlbGVjdGVkJywgZnVuY3Rpb24gKG5ld0l0ZW1zLCBvbGRJdGVtcykge1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChvbGRJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobmV3SXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIGZhbHNlKTtcblxuXG4gIHZhciBxdWVzdGlvbjJNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncXVlc3Rpb24tcHV6emxlJywgW10pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmZhY3RvcnkoJ3dvcmRTZWFyY2hQdXp6bGUnLCBXb3JkU2VhcmNoUHV6emxlRmFjdG9yeSlcbiAgICAuZGlyZWN0aXZlKCd3b3JkU2VhcmNoUHV6emxlJywgd29yZFNlYXJjaFB1enpsZURpcmVjdGl2ZSlcbiAgICAuY29udHJvbGxlcignUHV6emxlUXVlc3Rpb25DdHJsJywgUHV6emxlUXVlc3Rpb25DdHJsKTtcblxuICBhbmd1bGFyLmZvckVhY2goXG4gICAgJ3BvaW50ZXJkb3duIHBvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsIHBvaW50ZXJlbnRlciBwb2ludGVybGVhdmUgcG9pbnRlcm91dCBwb2ludGVyb3Zlcicuc3BsaXQoJyAnKSxcbiAgICBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICB2YXIgZGlyZWN0aXZlTmFtZSA9ICdoYW5kJyArIGV2ZW50TmFtZTtcbiAgICAgIHF1ZXN0aW9uMk1vZHVsZS5kaXJlY3RpdmUoZGlyZWN0aXZlTmFtZSwgWyckcGFyc2UnLCBmdW5jdGlvbiAoJHBhcnNlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSk7XG4gICAgICAgICAgZWxlbWVudC5iaW5kKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDogZXZlbnR9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuICAgIH1cbiAgKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgIGNvbmZpZ1xuICAgKiBAZGVzY3JpcHRpb24gY29uZmlnIGJsb2NrXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290LnF1ZXN0aW9uLXgnLCB7XG4gICAgICAgIHVybDogJy9xdWVzdGlvbi14JyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnQCc6IHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC9xdWVzdGlvbi14L3F1ZXN0aW9uLXgudHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1hRdWVzdGlvbkN0cmwgYXMgcXVlc3Rpb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAgSG9tZUN0cmxcbiAgICogQGRlc2NyaXB0aW9uIENvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIFhRdWVzdGlvbkN0cmwoJHN0YXRlKSB7XG4gICAgdGhpcy54ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCdyb290LnF1ZXN0aW9uLXB1enpsZScpO1xuICAgIH07XG5cbiAgICB0aGlzLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB9LmJpbmQodGhpcyk7XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgncXVlc3Rpb24teCcsIFtdKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb250cm9sbGVyKCdYUXVlc3Rpb25DdHJsJywgWFF1ZXN0aW9uQ3RybCk7XG59KSgpO1xuXG4oZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEBuYW1lICBjb25maWdcbiAgICogQGRlc2NyaXB0aW9uIGNvbmZpZyBibG9ja1xuICAgKi9cbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgncm9vdC5xdWVzdGlvbi1yZWJ1cycsIHtcbiAgICAgICAgdXJsOiAnL3F1ZXN0aW9uLXJlYnVzJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnQCc6IHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2FwcC9xdWVzdGlvbi1yZWJ1cy9xdWVzdGlvbi1yZWJ1cy50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUmVidXNRdWVzdGlvbkN0cmwgYXMgcXVlc3Rpb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAgSG9tZUN0cmxcbiAgICogQGRlc2NyaXB0aW9uIENvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIFJlYnVzUXVlc3Rpb25DdHJsKCRzdGF0ZSkge1xuICAgIHRoaXMueCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICRzdGF0ZS5nbygncm9vdC5xdWVzdGlvbi1wdXp6bGUnKTtcbiAgICB9O1xuXG4gICAgdGhpcy5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgfS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ3F1ZXN0aW9uLXJlYnVzJywgW10pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmNvbnRyb2xsZXIoJ1JlYnVzUXVlc3Rpb25DdHJsJywgUmVidXNRdWVzdGlvbkN0cmwpO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gdmVyc2lvbkRpcmVjdGl2ZSh2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAvKmpzaGludCB1bnVzZWQ6ZmFsc2UqL1xuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHtcbiAgICAgICAgZWxtLnRleHQodmVyc2lvbik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uZGlyZWN0aXZlcy52ZXJzaW9uJywgW10pXG4gICAgLmRpcmVjdGl2ZSgnYXBwVmVyc2lvbicsIHZlcnNpb25EaXJlY3RpdmUpO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gaHR0cEludGVyY2VwdG9yKCRxLCAkbG9nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAgfSxcbiAgICAgIHJlcXVlc3RFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICRsb2cuZGVidWcocmVqZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAkbG9nLmRlYnVnKCdyZXNwb25zZTogJywgcmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9LFxuICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICAgICRsb2cuZGVidWcocmVqZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgnY29tbW9uLmludGVyY2VwdG9ycy5odHRwJywgW10pXG4gICAgLmZhY3RvcnkoJ2h0dHBJbnRlcmNlcHRvcicsIGh0dHBJbnRlcmNlcHRvcik7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBkYXRhU2VydmljZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFsnc29tZScsICdkYXRhJ107XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uc2VydmljZXMuZGF0YScsIFtdKVxuICAgIC5mYWN0b3J5KCdEYXRhU2VydmljZScsIGRhdGFTZXJ2aWNlKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIHVwcGVyY2FzZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xuICAgICAgcmV0dXJuIHRleHQgPyB0ZXh0LnRvVXBwZXJDYXNlKCkgOiB0ZXh0O1xuICAgIH07XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgnY29tbW9uLmZpbHRlcnMudXBwZXJjYXNlJywgW10pXG4gICAgLmZpbHRlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIGhlYWRlckN0cmwoJGxvZykge1xuICAgICRsb2cuZGVidWcoJ0hlYWRlciBsb2FkZWQnKTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uaGVhZGVyJywgW10pXG4gICAgLmNvbnRyb2xsZXIoJ0hlYWRlckN0cmwnLCBoZWFkZXJDdHJsKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIGZvb3RlckN0cmwoJGxvZykge1xuICAgICRsb2cuZGVidWcoJ0Zvb3RlciBsb2FkZWQnKTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uZm9vdGVyJywgW10pXG4gICAgLmNvbnRyb2xsZXIoJ0Zvb3RlckN0cmwnLCBmb290ZXJDdHJsKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvY29tbW9uL2Zvb3Rlci50cGwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInB1cmUtdS0xIHRleHQtY2VudGVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHA+JmNvcHk7IDIwMTQgLSBTaW50ICYgUGlldDwvYT5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvY29tbW9uL2hlYWRlci50cGwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInB1cmUtdS0xIHRleHQtY2VudGVyIGlzbGFuZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpbWcgY2xhc3M9XFxcInB1cmUtaW1nXFxcIiBzcmM9XFxcImFzc2V0cy9pbWFnZXMvc2ludGVya2xhYXNxdWl6LnBuZ1xcXCI+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwic3JjL2FwcC9nZXR0aW5nLXN0YXJ0ZWQvZ2V0dGluZy1zdGFydGVkLnRwbC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdXJlLWcgaXNsYW5kM1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb250ZW50IHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPHAgY2xhc3M9XFxcImlzbGFuZC1wYW5lbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHN0cm9uZz5Ob3RlIHRoYXQgdGhpcyBpcyBvbmx5IGEgZ2V0dGluZyBzdGFydGVkIGd1aWRlLCBmb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYnVpbGQgc3lzdGVtLCB0aGUgYXZhaWxhYmxlIHRhc2tzLCB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgYnVpbGQgb3IgYW55dGhpbmcgZWxzZSwgcGxlYXNlIHJlZmVyIHRvIHRoZSA8YSBocmVmPVxcXCJodHRwczovL2dpdGh1Yi5jb20vdmVzcGFybnkvYW5ndWxhci1raWNrc3RhcnQvI3JlYWRtZVxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPmRvY3VtZW50YXRpb248L2E+IG9uIHRoZSBHaXRIdWIgcHJvamVjdC48L3N0cm9uZz5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8aDM+V2hhdCBhbmQgV2h5PC9oMz5cXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgPGNvZGU+YW5ndWxhci1raWNrc3RhcnQ8L2NvZGU+IGlzIGFuIG9waW5pb25hdGVkIGtpY2tzdGFydCBmb3Igc2luZ2xlIHBhZ2UgYXBwbGljYXRpb24gZGV2ZWxvcG1lbnQgd2l0aCBBbmd1bGFySlMuIEl0IG1ha2VzIHlvdXIgZGV2ZWxvcG1lbnQgYW5kIHRlc3RpbmcgZWFzeSwga2VlcHMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgcHJvamVjdCBjb25zaXN0ZW50IGFuZCBhbGxvd3MgeW91IHRvIGNyZWF0ZSBhIGZ1bGx5IG9wdGltaXplZFxcblwiICtcbiAgICBcIiAgICAgIHByb2R1Y3Rpb24gcmVsZWFzZSB3aXRoZSBlYXNlLiBBZnRlciBoYXZpbmcgZGV2ZWxvcGVkIGEgbG90IG9mIEFuZ3VsYXJKUyBwcm9qZWN0cyBJIGRlY2lkZWQgdG8gY29sbGVjdCBoZXJlIHdoYXQgSSd2ZSBsZWFybnQuXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPGgzPkdldHRpbmcgc3RhcnRlZDwvaDM+XFxuXCIgK1xuICAgIFwiICAgIDxwPlxcblwiICtcbiAgICBcIiAgICAgIEluc3RhbGxcXG5cIiArXG4gICAgXCIgICAgICA8c3Ryb25nPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS93aWtpL2luc3RhbGxhdGlvblxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPm5vZGUuanM8L2E+PC9zdHJvbmc+LiBUaGVuXFxuXCIgK1xuICAgIFwiICAgICAgPHN0cm9uZz5zYXNzLCBndWxwIGFuZCBib3dlcjwvc3Ryb25nPiBpZiB5b3UgaGF2ZW4ndCB5ZXQuXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHByZT5cXG5cIiArXG4gICAgXCIgICAgPGNvZGU+XFxuXCIgK1xuICAgIFwiICAgICQgZ2VtIGluc3RhbGwgc2Fzc1xcblwiICtcbiAgICBcIiAgICAkIG5wbSAtZyBpbnN0YWxsIGd1bHAgYm93ZXJcXG5cIiArXG4gICAgXCIgICAgPC9jb2RlPlxcblwiICtcbiAgICBcIjwvcHJlPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICBBZnRlciB0aGF0LCBpbnN0YWxsXFxuXCIgK1xuICAgIFwiICAgICAgPGNvZGU+YW5ndWxhci1raWNrc3RhcnQ8L2NvZGU+IC0gZG93bmxvYWQgdGhlIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS92ZXNwYXJueS9hbmd1bGFyLWtpY2tzdGFydC9yZWxlYXNlcy9sYXRlc3RcXFwiPmxhdGVzdDwvYT4gcmVsZWFzZSAob3IgY2xvbmUgdGhlIG1hc3RlciBicmFuY2ggaWYgd2FudCB0byBydW4gdGhlIGRldmVsb3BtZW50IHZlcnNpb24pLiBVbnppcCB0aGUgcHJvamVjdCBhbmQgY2QgaW50byBpdCwgdGhlblxcblwiICtcbiAgICBcIiAgICAgIGluc3RhbGwgYm93ZXIgYW5kIG5wbSBkZXBlbmRlbmNpZXMsIGFuZCBydW4gdGhlIGFwcGxpY2F0aW9uIGluIGRldmVsb3BtZW50IG1vZGUuXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHByZT5cXG5cIiArXG4gICAgXCIgICAgPGNvZGU+XFxuXCIgK1xuICAgIFwiICAgICQgbnBtIGluc3RhbGxcXG5cIiArXG4gICAgXCIgICAgJCBib3dlciBpbnN0YWxsXFxuXCIgK1xuICAgIFwiICAgICQgZ3VscCBzZXJ2ZVxcblwiICtcbiAgICBcIiAgICA8L2NvZGU+XFxuXCIgK1xuICAgIFwiPC9wcmU+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxwPlxcblwiICtcbiAgICBcIiAgICAgIFlvdSBhcmUgbm93IHJlYWR5IHRvIGdvLCB5b3VyIGFwcGxjYXRpb24gaXMgYXZhaWxhYmxlIGF0IDxjb2RlPmh0dHA6Ly8xMjcuMC4wLjE6MzAwMDwvY29kZT4uXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgWW91IGFyZSBub3cgcmVhZHkgdG8gc3RhcnQgY29kaW5nLCBldmVyeSBmaWxlIHlvdSBhZGQsIGVkaXQgb3IgZGVsZXRlIGludG8gdGhlXFxuXCIgK1xuICAgIFwiICAgICAgPGNvZGU+L2NsaWVudDwvY29kZT4gZm9sZGVyLCB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIGJ1aWxkIHN5c3RlbSBhbmQgdGhlIGJyb3dzZXIgd2lsbCByZWxvYWQuXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgV2hlbiB5b3UgYXJlIHJlYWR5IHRvIGJ1aWxkIGEgcHJvZHVjdGlvbiByZWxlYXNlIHRoZXJlIGlzIGEgdGFzayBmb3IgdGhhdC5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cHJlPlxcblwiICtcbiAgICBcIiAgICA8Y29kZT5cXG5cIiArXG4gICAgXCIgICAgJCBndWxwIHNlcnZlOmRpc3RcXG5cIiArXG4gICAgXCIgICAgPC9jb2RlPlxcblwiICtcbiAgICBcIjwvcHJlPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICBUaGlzIHRhc2sgd2lsbCBsaW50IHlvdXIgY29kZSwgb3B0aW1pemUgY3NzIGpzIGFuZCBpbWFnZXMgZmlsZXMsIHJ1biB1bml0IHRlc3RzLiBBZnRlciB0aGUgdGFzayBoYXMgc3VjY2Vzc2Z1bGx5IGZpbmlzaGVkLCB5b3UgY2FuIGZpbmQgYW4gb3B0aW1pemVkIHZlcnNpb24gb2YgeW91ciBwcm9qZWN0IGluIHRoZVxcblwiICtcbiAgICBcIiAgICAgIDxjb2RlPi9idWlsZC9kaXN0PC9jb2RlPiBmb2xkZXIuXFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgT3RoZXIgdGFza3MgYXJlIGF2YWlsYWJsZTpcXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cHJlPlxcblwiICtcbiAgICBcIiAgICA8Y29kZT5cXG5cIiArXG4gICAgXCIgICAgI2ZvciBkZXZlbG9waW5nIHJ1bm5pbmcgdW5pdCB0ZXN0IG9uIGV2ZXJ5IGZpbGUgY2hhbmdlLlxcblwiICtcbiAgICBcIiAgICAkIGd1bHAgc2VydmU6dGRkXFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICNmb3IgcnVubmluZyBlMmUgdGVzdC4gKHlvdSBhcHBsaWNhdGlvbiBzaG91bGQgYmUgcnVubmluZyBvbiBodHRwOi8vMTI3LjAuMC4xOjMwMDApXFxuXCIgK1xuICAgIFwiICAgICQgZ3VscCB0ZXN0OmUyZVxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAjZm9yIHJ1bm5pbmcgdW5pdCB0ZXN0cyBvbmUgdGltZSB0aGVuIGV4aXQuXFxuXCIgK1xuICAgIFwiICAgICQgZ3VscCB0ZXN0OnVuaXRcXG5cIiArXG4gICAgXCIgICAgPC9jb2RlPlxcblwiICtcbiAgICBcIjwvcHJlPlxcblwiICtcbiAgICBcIiAgICA8cCBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS92ZXNwYXJueS9hbmd1bGFyLWtpY2tzdGFydC8jcmVhZG1lXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgY2xhc3M9XFxcInB1cmUtYnV0dG9uIGJ1dHRvbi14bGFyZ2UgcHVyZS1idXR0b24tcHJpbWFyeVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICBGdWxsIGRvY3VtZW50YXRpb24gb24gR2l0SHViXFxuXCIgK1xuICAgIFwiICAgICAgPC9hPlxcblwiICtcbiAgICBcIiAgICA8L3A+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwic3JjL2FwcC9ob21lL2hvbWUudHBsLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInB1cmUtZ1xcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQzIHB1cmUtdS0xIHB1cmUtdS1sZy0yLTNcXFwiPlxcblwiICtcbiAgICBcIiAgICA8aDE+V2Vsa29tIGJpaiBkZSBTaW50ZXJrbGFhcyBRdWl6PC9oMT5cXG5cIiArXG4gICAgXCIgICAgPGgzPkplIG1vZXQgYWxsZSB2cmFnZW4gZ29lZCBiZWFudHdvb3JkZW4gb20gbG9jYXRpZSB2YW4gamUgY2FkZWF1dGplIHRlIGFjaHRlcmhhbGVuIDxzdHJvbmc+U3VjY2VzITwvc3Ryb25nPjwvaDM+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImlzbGFuZDMgcHVyZS11LTEgcHVyZS11LWxnLTEtM1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxidXR0b24gbmctY2xpY2s9XFxcImhvbWUuc3RhcnQoKVxcXCIgY2xhc3M9XFxcInB1cmUtYnV0dG9uIGJ1dHRvbi14bGFyZ2UgYnV0dG9uLWV4cGFuZGVkIGJ1dHRvbi1waWV0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICBTdGFydFxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvYXBwL3F1ZXN0aW9uLXB1enpsZS9xdWVzdGlvbi1wdXp6bGUudHBsLmh0bWxcIixcbiAgICBcIjxmb3JtIGNsYXNzPVxcXCJwdXJlLWZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS1nIHdvcmQtc2VhcmNoXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDE+U2ludGVya2xhYXMgV29vcmR6b2VrZXI8L2gxPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxoMz5EZSBvdmVyZ2VibGV2ZW4gbGV0dGVyIHZvcm1lbiBkZSBvcGxvc3Npbmc8L2gzPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xIHB1cmUtdS1tZC0xLTRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx1bCBjbGFzcz1cXFwid29yZHNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwid29yZCBpbiBxdWVzdGlvbi5wdXp6bGUud29yZHNcXFwiIG5nLWNsYXNzPVxcXCJ7J2ZvdW5kJzogd29yZC5mb3VuZH1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICB7e3dvcmQubmFtZX19XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2xpPlxcblwiICtcbiAgICBcIiAgICAgIDwvdWw+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTEgcHVyZS11LW1kLTMtNFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHdvcmQtc2VhcmNoLXB1enpsZSBtYXRyaXg9XFxcInF1ZXN0aW9uLm1hdHJpeFxcXCIgd29yZHM9XFxcInF1ZXN0aW9uLndvcmRzXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpPVxcXCJxdWVzdGlvbi5wdXp6bGVcXFwiPjwvd29yZC1zZWFyY2gtcHV6emxlPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPCEtLTxkaXYgY2xhc3M9XFxcInN0YXR1c1xcXCI+LS0+XFxuXCIgK1xuICAgIFwiICAgICAgPCEtLTxidXR0b24gbmctY2xpY2s9XFxcInF1ZXN0aW9uLnB1enpsZS5zb2x2ZSgpXFxcIiBuZy1zaG93PVxcXCIhcXVlc3Rpb24ucHV6emxlLnNvbHZlZFxcXCIgY2xhc3M9XFxcInNvbHZlXFxcIj5zb2x2ZTwvYnV0dG9uPi0tPlxcblwiICtcbiAgICBcIiAgICAgIDwhLS08c3Ryb25nIG5nLXNob3c9XFxcInF1ZXN0aW9uLnB1enpsZS5zb2x2ZWRcXFwiIG5nLXNob3c9XFxcInF1ZXN0aW9uLnB1enpsZS5zb2x2ZWRcXFwiPlNvbHZlZCE8L3N0cm9uZz4tLT5cXG5cIiArXG4gICAgXCIgICAgPCEtLTwvZGl2Pi0tPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgIE9wbG9zc2luZ1xcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJwdXJlLWlucHV0LTFcXFwiIG5nLW1vZGVsPVxcXCJxdWVzdGlvbi5teUFuc3dlclxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcmVxdWlyZWQ9XFxcIlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IG5nLXNob3c9XFxcInF1ZXN0aW9uLmVycm9yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxwPkRpdCBpcyBuaWV0IGhldCBqdWlzdGUgYW50d29vcmQsIHByb2JlZXIgaGV0IG5vZyBlZW5zPC9wPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aW5wdXQgdHlwZT1cXFwic3VibWl0XFxcIiB2YWx1ZT1cXFwiVm9sZ2VuZGVcXFwiIG5nLWNsaWNrPVxcXCJxdWVzdGlvbi5uZXh0KClcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgIGNsYXNzPVxcXCJwdXJlLWJ1dHRvbiBidXR0b24teGxhcmdlIGJ1dHRvbi1leHBhbmRlZCBidXR0b24tcGlldFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9mb3JtPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvYXBwL3F1ZXN0aW9uLXJlYnVzL3F1ZXN0aW9uLXJlYnVzLnRwbC5odG1sXCIsXG4gICAgXCI8Zm9ybSBjbGFzcz1cXFwicHVyZS1mb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInB1cmUtZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgxPlZyYWFnIDM8L2gxPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxoMz5WaW5kdCB4PC9oMz5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMSBmaW5kLXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxzcGFuIGNsYXNzPVxcXCJiZWZvcmVcXFwiPjU8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcInhcXFwiIG5nLWNsaWNrPVxcXCJxdWVzdGlvbi54KClcXFwiPlg8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPGltZyBzcmM9XFxcIi9hc3NldHMvaW1hZ2VzL3guc3ZnXFxcIiBhbHQ9XFxcImZpbmQgeFxcXCIgd2lkdGg9XFxcIjMwMFxcXCIgY2xhc3M9XFxcIm1pZGRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcImJlbG93XFxcIj42PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICBPcGxvc3NpbmdcXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwicHVyZS1pbnB1dC0xXFxcIiBuZy1tb2RlbD1cXFwicXVlc3Rpb24ubXlBbnN3ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHJlcXVpcmVkPVxcXCJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBuZy1zaG93PVxcXCJxdWVzdGlvbi5lcnJvclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8cD5EaXQgaXMgbmlldCBoZXQganVpc3RlIGFudHdvb3JkLCBwcm9iZWVyIGhldCBub2cgZWVuczwvcD5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IHR5cGU9XFxcInN1Ym1pdFxcXCIgbmctY2xpY2s9XFxcInF1ZXN0aW9uLm5leHQoKVxcXCIgdmFsdWU9XFxcIlZvbGdlbmRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICBjbGFzcz1cXFwicHVyZS1idXR0b24gYnV0dG9uLXhsYXJnZSBidXR0b24tZXhwYW5kZWQgYnV0dG9uLXBpZXRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZm9ybT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwic3JjL2FwcC9xdWVzdGlvbi14L3F1ZXN0aW9uLXgudHBsLmh0bWxcIixcbiAgICBcIjxmb3JtIGNsYXNzPVxcXCJwdXJlLWZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDE+VnJhYWcgMjwvaDE+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGgzPlZpbmR0IHg8L2gzPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xIGZpbmQteFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcImJlZm9yZVxcXCI+NTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8c3BhbiBjbGFzcz1cXFwieFxcXCIgbmctY2xpY2s9XFxcInF1ZXN0aW9uLngoKVxcXCI+WDwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8aW1nIHNyYz1cXFwiYXNzZXRzL2ltYWdlcy94LnN2Z1xcXCIgYWx0PVxcXCJmaW5kIHhcXFwiIHdpZHRoPVxcXCIzMDBcXFwiIGNsYXNzPVxcXCJtaWRkbGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxzcGFuIGNsYXNzPVxcXCJiZWxvd1xcXCI+Njwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgICAgT3Bsb3NzaW5nXFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgY2xhc3M9XFxcInB1cmUtaW5wdXQtMVxcXCIgbmctbW9kZWw9XFxcInF1ZXN0aW9uLm15QW5zd2VyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiByZXF1aXJlZD1cXFwiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L2xhYmVsPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgbmctc2hvdz1cXFwicXVlc3Rpb24uZXJyb3JcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHA+RGl0IGlzIG5pZXQgaGV0IGp1aXN0ZSBhbnR3b29yZCwgcHJvYmVlciBoZXQgbm9nIGVlbnM8L3A+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxpbnB1dCB0eXBlPVxcXCJzdWJtaXRcXFwiIG5nLWNsaWNrPVxcXCJxdWVzdGlvbi5uZXh0KClcXFwiIHZhbHVlPVxcXCJWb2xnZW5kZVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgY2xhc3M9XFxcInB1cmUtYnV0dG9uIGJ1dHRvbi14bGFyZ2UgYnV0dG9uLWV4cGFuZGVkIGJ1dHRvbi1waWV0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInNyYy9hcHAvcXVlc3Rpb24wMS9xdWVzdGlvbjAxLnRwbC5odG1sXCIsXG4gICAgXCI8Zm9ybSBjbGFzcz1cXFwicHVyZS1mb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInB1cmUtZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgxPlZyYWFnIDE8L2gxPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxoMz5TaW50ZXJrbGFhc2plIGtvbSBtYWFyIGJpbm5lbi4uPC9oMz5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cXFwicXVlc3Rpb24ubXlBbnN3ZXJcXFwiIHJlcXVpcmVkPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj4tIE1hYWsgZWVuIGtldXplIC08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVxcXCJhbnN3ZXIgaW4gcXVlc3Rpb24uYW5zd2Vyc1xcXCIgdmFsdWU9XFxcInt7YW5zd2VyfX1cXFwiPnt7YW5zd2VyfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IG5nLXNob3c9XFxcInF1ZXN0aW9uLmVycm9yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxwPkRpdCBpcyBuaWV0IGhldCBqdWlzdGUgYW50d29vcmQsIHByb2JlZXIgaGV0IG5vZyBlZW5zPC9wPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aW5wdXQgbmctY2xpY2s9XFxcInF1ZXN0aW9uLm5leHQoKVxcXCIgdHlwZT1cXFwic3VibWl0XFxcIiB2YWx1ZT1cXFwiVm9sZ2VuZGVcXFwiIGNsYXNzPVxcXCJwdXJlLWJ1dHRvbiBidXR0b24teGxhcmdlIGJ1dHRvbi1leHBhbmRlZCBidXR0b24tcGlldFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9mb3JtPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=