/**
 * angular-kickstart - Speed up your AngularJS development whith a great build system.
 * @version v1.0.2
 * @link https://github.com/vesparny/angular-kickstart
 * @license MIT
 */
!function(){"use strict";function config($stateProvider,$urlRouterProvider,$logProvider,$httpProvider){$urlRouterProvider.otherwise("/"),$logProvider.debugEnabled(!0),$httpProvider.interceptors.push("httpInterceptor"),$stateProvider.state("root",{views:{header:{templateUrl:"src/common/header.tpl.html",controller:"HeaderCtrl"},footer:{templateUrl:"src/common/footer.tpl.html",controller:"FooterCtrl"}}})}function MainCtrl($log){$log.debug("MainCtrl laoded!")}function run($log){$log.debug("App is running!")}angular.element(document).ready(function(){angular.bootstrap(document,["app"])}),config.$inject=["$stateProvider","$urlRouterProvider","$logProvider","$httpProvider"],MainCtrl.$inject=["$log"],run.$inject=["$log"],angular.module("app",["ui.router","home","question01","question-puzzle","question-x","question-rebus","common.header","common.footer","common.services.data","common.directives.version","common.filters.uppercase","common.interceptors.http","templates"]).config(config).run(run).controller("MainCtrl",MainCtrl).value("version","1.0.2")}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.home",{url:"/",views:{"@":{templateUrl:"src/app/home/home.tpl.html",controller:"HomeCtrl as home"}}})}function HomeCtrl($state){this.start=function(){$state.go("root.question01")}}config.$inject=["$stateProvider"],HomeCtrl.$inject=["$state"],angular.module("home",[]).config(config).controller("HomeCtrl",HomeCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question01",{url:"/question01",views:{"@":{templateUrl:"src/app/question01/question01.tpl.html",controller:"FirstQuestionCtrl as question"}}})}function FirstQuestionCtrl($state){this.answers=["met je knecht","met je slaaf","Er komt hier helemaal niemand binnen!","Ze zijn al geweest van het Liliane Fonds"],this.next=function(){this.myAnswer===this.answers[0]?$state.go("root.question-x"):this.error=!0}.bind(this)}config.$inject=["$stateProvider"],FirstQuestionCtrl.$inject=["$state"],angular.module("question01",[]).config(config).controller("FirstQuestionCtrl",FirstQuestionCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-puzzle",{url:"/question-puzzle",views:{"@":{templateUrl:"src/app/question-puzzle/question-puzzle.tpl.html",controller:"PuzzleQuestionCtrl as question"}}})}function PuzzleQuestionCtrl($state){this.matrix=[["D","E","S","C","H","I","M","M","E","L","S","U","R","E"],["P","T","R","E","I","S","S","E","M","B","L","I","J","G"],["R","E","S","S","K","R","U","I","D","N","O","T","E","N"],["E","I","T","I","Z","E","J","R","E","L","S","M","S","T"],["B","P","O","R","O","T","G","O","C","J","A","K","E","M"],["M","E","O","P","E","T","I","E","I","Y","N","A","A","N"],["E","P","M","R","T","E","N","L","Z","A","D","A","R","Z"],["C","E","B","U","D","L","G","D","T","E","N","N","P","S"],["E","R","O","S","I","N","T","E","R","K","L","A","A","S"],["D","N","O","V","A","S","E","J","K","A","P","L","E","C"],["A","O","T","L","E","T","R","O","W","D","A","F","I","F"],["S","T","R","O","O","I","G","O","E","D","A","P","I","G"],["N","E","E","T","S","R","O","O","H","C","S","U","T","O"],["V","N","E","O","H","C","S","G","E","D","I","C","H","T"]],this.words=["BOMEN","CANDYCRUSH","DAK","DECEMBER","FIFA","GEDICHT","GEZELLIG","IPAD","KRUIDNOTEN","LAARS","LETTER","MAAN","MIJTER","PAARD","PAKJESAVOND","PEPERNOTEN","PIET","ROE","SCHIMMEL","SCHOEN","SCHOORSTEEN","SINTERKLAAS","SPANJE","STOOMBOOT","STROOIGOED","SURPRISE","TANKS","VERLANGLIJSTJE","WORTEL","ZAK","ZOET"],this.next=function(){(""+this.myAnswer).toLowerCase()==="De surprise ligt in de auto".toLowerCase()?$state.go("root.finish"):this.error=!0}.bind(this)}function WordSearchPuzzleFactory(){function WordSearchPuzzle(matrix,words){var maxRow=0,maxCol=0;this.matrix=[],this.words=[],this.solved=!1,angular.forEach(matrix,function(letters,row){angular.forEach(letters,function(letter,col){var item={letter:letter,col:col,row:row,used:!1};this.matrix[row]||(this.matrix[row]=[]),this.matrix[row].push(item),maxCol=col},this),maxRow=row},this),angular.forEach(words,function(word){this.words.push({name:word})},this),this.getItem=function(col,row){return this.matrix[row]?this.matrix[row][col]:void 0},this.getItems=function(colFrom,rowFrom,colTo,rowTo){var items=[];if(rowTo>maxRow&&(rowTo=maxRow),colTo>maxCol&&(colTo=maxCol),void 0===this.getItem(colTo,rowTo))return items;if(colFrom===colTo||rowFrom===rowTo||Math.abs(colTo-colFrom)===Math.abs(rowTo-rowFrom)){var shiftX=colFrom===colTo?0:colTo>colFrom?1:-1,shiftY=rowFrom===rowTo?0:rowTo>rowFrom?1:-1,col=colFrom,row=rowFrom;items.push(this.getItem(col,row));do col+=shiftX,row+=shiftY,items.push(this.getItem(col,row));while(col!==colTo||row!==rowTo)}return items},this.lookup=function(items){if(items.length){var words=[""];angular.forEach(items,function(item){words[0]+=item.letter}),words.push(words[0].split("").reverse().join("")),this.solved=!0,angular.forEach(this.words,function(word){word.found||(angular.forEach(words,function(itemWord){word.name===itemWord&&(word.found=!0,angular.forEach(items,function(item){item.found=!0}))}),word.found||(this.solved=!1))},this)}},this.solve=function(){var start={},directions={N:[0,-1],E:[1,0],S:[0,1],W:[-1,0],NE:[1,-1],NW:[-1,-1],SE:[1,1],SW:[-1,1]};angular.forEach(this.matrix,function(items){angular.forEach(items,function(item){start[item.letter]||(start[item.letter]=[]),start[item.letter].push(item)})}),angular.forEach(this.words,function(word){angular.forEach(start[word.name.charAt(0)],function(start){word.found||angular.forEach(directions,function(shift){word.found||this.lookup(this.getItems(start.col,start.row,start.col+(word.name.length-1)*shift[0],start.row+(word.name.length-1)*shift[1]))},this)},this)},this)}}return function(matrix,words){return new WordSearchPuzzle(matrix,words)}}function wordSearchPuzzleDirective(wordSearchPuzzle){return{restrict:"EA",replace:!0,template:'<table class="word-search-puzzle" ng-class="{\'puzzle-solved\': puzzle.solved}" handpointerenter="disableScroll()" handpointerleave="enableScroll()"><tr ng-repeat="items in puzzle.matrix"><td ng-repeat="item in items" unselectable="on" ng-class="{\'puzzle-found\': item.found, \'puzzle-selected\': item.selected, \'puzzle-message\': puzzle.solved && !item.found}" handpointerenter="selectEnter(item)" handpointerdown="selectStart(item)" handpointerup="selectEnd()" > <span>{{item.letter}}</span></td></tr></table>',scope:{matrix:"=",words:"=",api:"="},link:function(scope,element,attrs){var selectFrom;scope.$watch("matrix",function(matrix){scope.puzzle=wordSearchPuzzle(matrix,scope.words),attrs.api&&(scope.api=scope.puzzle)}),scope.selected=[],scope.selectStart=function(item){selectFrom=item,angular.element(document.body).css("overflow","hidden"),angular.element(document.body).on("touchmove",function(e){e.preventDefault()})},scope.selectEnter=function(item){selectFrom&&(scope.selected=scope.puzzle.getItems(selectFrom.col,selectFrom.row,item.col,item.row))},scope.disableScroll=function(){angular.element(document.body).css("overflow","hidden")},scope.enableScroll=function(){angular.element(document.body).css("overflow","auto")},scope.selectEnd=function(){selectFrom=null,scope.puzzle.lookup(scope.selected),scope.selected=[],angular.element(document.body).css("overflow","auto"),angular.element(document.body).off("touchmove")},scope.$watch("selected",function(newItems,oldItems){angular.forEach(oldItems,function(item){item.selected=!1}),angular.forEach(newItems,function(item){item.selected=!0})})}}}config.$inject=["$stateProvider"],PuzzleQuestionCtrl.$inject=["$state"],wordSearchPuzzleDirective.$inject=["wordSearchPuzzle"];var question2Module=angular.module("question-puzzle",[]).config(config).factory("wordSearchPuzzle",WordSearchPuzzleFactory).directive("wordSearchPuzzle",wordSearchPuzzleDirective).controller("PuzzleQuestionCtrl",PuzzleQuestionCtrl);angular.forEach("pointerdown pointermove pointerup pointercancel pointerenter pointerleave pointerout pointerover".split(" "),function(eventName){var directiveName="hand"+eventName;question2Module.directive(directiveName,["$parse",function($parse){return function(scope,element,attr){var fn=$parse(attr[directiveName]);element.bind(eventName,function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}])})}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-x",{url:"/question-x",views:{"@":{templateUrl:"src/app/question-x/question-x.tpl.html",controller:"XQuestionCtrl as question"}}})}function XQuestionCtrl($state){this.x=function(){$state.go("root.question-puzzle")},this.next=function(){this.error=!0}.bind(this)}config.$inject=["$stateProvider"],XQuestionCtrl.$inject=["$state"],angular.module("question-x",[]).config(config).controller("XQuestionCtrl",XQuestionCtrl)}(),function(){"use strict";function config($stateProvider){$stateProvider.state("root.question-rebus",{url:"/question-rebus",views:{"@":{templateUrl:"src/app/question-rebus/question-rebus.tpl.html",controller:"RebusQuestionCtrl as question"}}})}function RebusQuestionCtrl($state){this.x=function(){$state.go("root.question-puzzle")},this.next=function(){this.error=!0}.bind(this)}config.$inject=["$stateProvider"],RebusQuestionCtrl.$inject=["$state"],angular.module("question-rebus",[]).config(config).controller("RebusQuestionCtrl",RebusQuestionCtrl)}(),function(){"use strict";function versionDirective(version){return{restrict:"A",link:function(scope,elm){elm.text(version)}}}versionDirective.$inject=["version"],angular.module("common.directives.version",[]).directive("appVersion",versionDirective)}(),function(){"use strict";function httpInterceptor($q,$log){return{request:function(config){return config},requestError:function(rejection){return $log.debug(rejection),$q.reject(rejection)},response:function(response){return $log.debug("response: ",response),response},responseError:function(rejection){return $log.debug(rejection),$q.reject(rejection)}}}httpInterceptor.$inject=["$q","$log"],angular.module("common.interceptors.http",[]).factory("httpInterceptor",httpInterceptor)}(),function(){"use strict";function dataService(){return{get:function(){return["some","data"]}}}angular.module("common.services.data",[]).factory("DataService",dataService)}(),function(){"use strict";function uppercase(){return function(text){return text?text.toUpperCase():text}}angular.module("common.filters.uppercase",[]).filter("uppercase",uppercase)}(),function(){"use strict";function headerCtrl($log){$log.debug("Header loaded")}headerCtrl.$inject=["$log"],angular.module("common.header",[]).controller("HeaderCtrl",headerCtrl)}(),function(){"use strict";function footerCtrl($log){$log.debug("Footer loaded")}footerCtrl.$inject=["$log"],angular.module("common.footer",[]).controller("FooterCtrl",footerCtrl)}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/common/footer.tpl.html",'<div class="pure-g">\n  <div class="pure-u-1 text-center">\n    <p>&copy; 2014 - Sint & Piet</a>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/common/header.tpl.html",'<div class="pure-g">\n  <div class="pure-u-1 text-center island">\n    <img class="pure-img" src="assets/images/sinterklaasquiz.png">\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/getting-started/getting-started.tpl.html",'<div class="pure-g island3">\n  <div class="content pure-u-1">\n    <p class="island-panel">\n      <strong>Note that this is only a getting started guide, for more detailed information about the build system, the available tasks, the configuration of the build or anything else, please refer to the <a href="https://github.com/vesparny/angular-kickstart/#readme" target="_blank">documentation</a> on the GitHub project.</strong>\n    </p>\n\n    <h3>What and Why</h3>\n    <p>\n      <code>angular-kickstart</code> is an opinionated kickstart for single page application development with AngularJS. It makes your development and testing easy, keeps the structure of the project consistent and allows you to create a fully optimized\n      production release withe ease. After having developed a lot of AngularJS projects I decided to collect here what I\'ve learnt.\n    </p>\n\n    <h3>Getting started</h3>\n    <p>\n      Install\n      <strong><a href="https://github.com/joyent/node/wiki/installation" target="_blank">node.js</a></strong>. Then\n      <strong>sass, gulp and bower</strong> if you haven\'t yet.\n    </p>\n\n    <pre>\n    <code>\n    $ gem install sass\n    $ npm -g install gulp bower\n    </code>\n</pre>\n\n    <p>\n      After that, install\n      <code>angular-kickstart</code> - download the <a href="https://github.com/vesparny/angular-kickstart/releases/latest">latest</a> release (or clone the master branch if want to run the development version). Unzip the project and cd into it, then\n      install bower and npm dependencies, and run the application in development mode.\n    </p>\n\n    <pre>\n    <code>\n    $ npm install\n    $ bower install\n    $ gulp serve\n    </code>\n</pre>\n\n    <p>\n      You are now ready to go, your applcation is available at <code>http://127.0.0.1:3000</code>.\n    </p>\n    <p>\n      You are now ready to start coding, every file you add, edit or delete into the\n      <code>/client</code> folder, will be handled by the build system and the browser will reload.\n    </p>\n    <p>\n      When you are ready to build a production release there is a task for that.\n    </p>\n\n    <pre>\n    <code>\n    $ gulp serve:dist\n    </code>\n</pre>\n\n    <p>\n      This task will lint your code, optimize css js and images files, run unit tests. After the task has successfully finished, you can find an optimized version of your project in the\n      <code>/build/dist</code> folder.\n    </p>\n\n    <p>\n      Other tasks are available:\n    </p>\n\n    <pre>\n    <code>\n    #for developing running unit test on every file change.\n    $ gulp serve:tdd\n\n    #for running e2e test. (you application should be running on http://127.0.0.1:3000)\n    $ gulp test:e2e\n\n    #for running unit tests one time then exit.\n    $ gulp test:unit\n    </code>\n</pre>\n    <p class="text-center">\n      <a href="https://github.com/vesparny/angular-kickstart/#readme" target="_blank" class="pure-button button-xlarge pure-button-primary">\n        Full documentation on GitHub\n      </a>\n    </p>\n\n  </div>\n</div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/home/home.tpl.html",'<div class="pure-g">\n  <div class="island3 pure-u-1 pure-u-lg-2-3">\n    <h1>Welkom bij de Sinterklaas Quiz</h1>\n    <h3>Je moet alle vragen goed beantwoorden om locatie van je cadeautje te achterhalen <strong>Succes!</strong></h3>\n  </div>\n  <div class="island3 pure-u-1 pure-u-lg-1-3">\n    <button ng-click="home.start()" class="pure-button button-xlarge button-expanded button-piet">\n      Start\n    </button>\n  </div>\n</div>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-puzzle/question-puzzle.tpl.html",'<form class="pure-form">\n  <div class="pure-g word-search">\n    <div class="island pure-u-1">\n      <h1>Sinterklaas Woordzoeker</h1>\n\n      <h3>De overgebleven letter vormen de oplossing</h3>\n    </div>\n    <div class="island pure-u-1 pure-u-md-1-4">\n      <ul class="words">\n        <li ng-repeat="word in question.puzzle.words" ng-class="{\'found\': word.found}">\n          {{word.name}}\n        </li>\n      </ul>\n    </div>\n    <div class="island pure-u-1 pure-u-md-3-4">\n      <word-search-puzzle matrix="question.matrix" words="question.words"\n                          api="question.puzzle"></word-search-puzzle>\n    </div>\n    <!--<div class="status">-->\n      <!--<button ng-click="question.puzzle.solve()" ng-show="!question.puzzle.solved" class="solve">solve</button>-->\n      <!--<strong ng-show="question.puzzle.solved" ng-show="question.puzzle.solved">Solved!</strong>-->\n    <!--</div>-->\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" value="Volgende" ng-click="question.next()"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-rebus/question-rebus.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 3</h1>\n\n      <h3>Vindt x</h3>\n    </div>\n    <div class="island pure-u-1 find-x">\n      <span class="before">5</span>\n      <span class="x" ng-click="question.x()">X</span>\n      <img src="/assets/images/x.svg" alt="find x" width="300" class="middle">\n      <span class="below">6</span>\n    </div>\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" ng-click="question.next()" value="Volgende"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question-x/question-x.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 2</h1>\n\n      <h3>Vindt x</h3>\n    </div>\n    <div class="island pure-u-1 find-x">\n      <span class="before">5</span>\n      <span class="x" ng-click="question.x()">X</span>\n      <img src="assets/images/x.svg" alt="find x" width="300" class="middle">\n      <span class="below">6</span>\n    </div>\n    <div class="island pure-u-1">\n      <label>\n        Oplossing\n        <input class="pure-input-1" ng-model="question.myAnswer" type="text" required="">\n      </label>\n\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input type="submit" ng-click="question.next()" value="Volgende"\n             class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}(),function(module){try{module=angular.module("templates")}catch(err){module=angular.module("templates",[])}module.run(["$templateCache",function($templateCache){"use strict";$templateCache.put("src/app/question01/question01.tpl.html",'<form class="pure-form">\n  <div class="pure-g">\n    <div class="island pure-u-1">\n      <h1>Vraag 1</h1>\n\n      <h3>Sinterklaasje kom maar binnen..</h3>\n    </div>\n    <div class="island pure-u-1">\n      <select ng-model="question.myAnswer" required>\n        <option value="">- Maak een keuze -</option>\n        <option ng-repeat="answer in question.answers" value="{{answer}}">{{answer}}</option>\n      </select>\n      <div ng-show="question.error">\n        <p>Dit is niet het juiste antwoord, probeer het nog eens</p>\n      </div>\n    </div>\n    <div class="island pure-u-1">\n      <input ng-click="question.next()" type="submit" value="Volgende" class="pure-button button-xlarge button-expanded button-piet">\n    </div>\n  </div>\n</form>\n')}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9qcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0UsWUFNQSxTQUFBLFFBQUEsZUFBQSxtQkFBQSxhQUFBLGVBQ0UsbUJBQUEsVUFBQSxLQUNBLGFBQUEsY0FBQSxHQUNBLGNBQUEsYUFBQSxLQUFBLG1CQUNBLGVBQ0UsTUFBQSxRQUNFLE9BQ0UsUUFDRSxZQUFBLDZCQUNBLFdBQUEsY0FFRixRQUNFLFlBQUEsNkJBQ0EsV0FBQSxpQkFNVixRQUFBLFVBQUEsTUFBQSxLQUFBLE1BQUEsb0JBSUEsUUFBQSxLQUFBLE1BQ0UsS0FBQSxNQUFBLG1CQTVCRixRQUFBLFFBQUEsVUFBQSxNQUFBLFdBQ0UsUUFBQSxVQUFBLFVBQUEsK0lBNEJGLFFBR0UsT0FBQSxPQUNFLFlBRkosT0FDRSxhQUNFLGtCQUNBLGFBQ0EsaUJBQ0EsZ0JBQ0EsZ0JBQ0EsdUJBQ0EsNEJBQ0EsMkJBQ0EsMkJBQ0EsY0FLRixPQUFBLFFBQ0EsSUFBQSxLQUZBLFdBQUEsV0FBQSxVQUNBLE1BQUEsVUFBQSxZQU1KLFdBRkEsWUFTRSxTQUFBLFFBQUEsZ0JBRkMsZUFDQSxNQUFBLGFBQ0QsSUFBQSxJQUNFLE9BQ0UsS0FDRSxZQUFBLDZCQUNBLFdBQUEsdUJBU04sUUFBQSxVQUFBLFFBQ0MsS0FBQSxNQUFBLFdBQ0EsT0FBQSxHQUFBLGtGQVFELFFBQUEsT0FBQSxXQUhFLE9BQUEsUUFDRCxXQUFBLFdBQUEsYUFPSCxXQUNFLFlBTUEsU0FBQSxRQUFBLGdCQUpBLGVBQ0MsTUFBQSxtQkFDQSxJQUFBLGNBQ0EsT0FDRCxLQUNFLFlBQUEseUNBQ0UsV0FBQSxvQ0FlSixRQUFBLG1CQUFBLFFBQ0UsS0FBQSxTQUxGLGdCQUNDLGVBQ0Esd0NBQ0EsNENBRUMsS0FBQSxLQUFBLFdBQ0UsS0FBQSxXQUFBLEtBQUEsUUFBQSxHQUNBLE9BQUEsR0FBQSxtQkFFQSxLQUFBLE9BQUEsR0FFRixLQUFBLDZFQVNGLFFBQUEsT0FBQSxpQkFDRSxPQUFBLFFBQ0EsV0FBQSxvQkFORSxzQkFTTixXQUNFLFlBREYsU0FBQSxRQUFBLGdCQUNFLGVBUUksTUFBQSx3QkFOSixJQUFBLG1CQUNDLE9BQ0EsS0FDQSxZQUFBLG1EQUNELFdBQUEscUNBaUJBLFFBQUEsb0JBQUEsUUFOQyxLQUFBLFNBUUcsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFQSixJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0MsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0QsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNFLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDRSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFDQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLE1BQ0EsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxNQUNBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsTUFVRixLQUFBLE9BUEUsUUFDQSxhQUNBLE1BQ0EsV0FDQSxPQUNBLFVBQ0YsV0FDQSxPQUNFLGFBQ0EsUUFDQSxTQUNBLE9BQ0EsU0FDQSxRQUNBLGNBQ0EsYUFDQSxPQUNBLE1BQ0EsV0FDQSxTQUNBLGNBQ0EsY0FDQSxTQUNBLFlBQ0EsYUFDQSxXQUNBLFFBQ0EsaUJBQ0EsU0FDQSxNQUNBLFFBVUYsS0FBQSxLQUFBLFlBUEUsR0FBQSxLQUFBLFVBQUEsZ0JBQUEsOEJBQUEsY0FDQSxPQUFBLEdBQUEsZUFFQSxLQUFBLE9BQUEsR0FVRixLQUFBLE1BR0YsUUFBQSwyQkFPRSxRQUFBLGtCQUFBLE9BQUEsT0FDRSxHQUFBLFFBQUEsRUFSSixPQUFBLENBTUcsTUFBQSxVQWVDLEtBQUEsU0FNQSxLQUFBLFFBQUEsRUFOQSxRQUFBLFFBQUEsT0FBQSxTQUFBLFFBQUEsS0FVRSxRQUFBLFFBQUEsUUFBQSxTQUFBLE9BQUEsS0FSRixHQUFBLE9BQ0MsT0FBQSxPQUNBLElBQUEsSUFDQSxJQUFBLElBQ0QsTUFBQSxFQUVBLE1BQUEsT0FBQSxPQUNBLEtBQUEsT0FBQSxTQUVJLEtBQUEsT0FBQSxLQUFBLEtBQUEsTUFVQSxPQUFBLEtBQ0YsTUFDQSxPQUFBLEtBQ0YsTUFDQSxRQUFBLFFBQUEsTUFBQSxTQUFBLE1BQ0UsS0FBQSxNQUFBLE1BQ0UsS0FBQSxRQUVKLE1BUUEsS0FBQSxRQUFBLFNBQUEsSUFBQSxLQVJBLE1BQUEsTUFBQSxPQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxRQW9CQSxLQUFBLFNBQUEsU0FBQSxRQUFBLFFBQUEsTUFBQSxPQVJBLEdBQUEsU0FTRSxJQVBELE1BQUEsU0FDQSxNQUFBLFFBRUEsTUFBQSxTQUNBLE1BQUEsUUFHQyxTQUFBLEtBQUEsUUFBQSxNQUFBLE9BVUUsTUFBQSxNQU5GLElBQUEsVUFBQSxPQUFBLFVBQUEsT0FBQSxLQUFBLElBQUEsTUFBQSxXQUFBLEtBQUEsSUFBQSxNQUFBLFNBQUEsQ0FDQSxHQUFBLFFBQUEsVUFBQSxNQUFBLEVBQUEsTUFBQSxRQUFBLEVBQUEsR0FDRSxPQUFBLFVBQUEsTUFBQSxFQUFBLE1BQUEsUUFBQSxFQUFBLEdBQ0YsSUFBQSxRQVVJLElBQUEsT0FQRixPQUFBLEtBQUEsS0FBQSxRQUFBLElBQUEsS0FDRixHQVVJLE1BQUEsT0FSSixLQUFBLE9BQ0UsTUFBQSxLQUFBLEtBQUEsUUFBQSxJQUFBLFlBVUEsTUFBQSxPQUFBLE1BQUEsT0FHRixNQUFBLFFBT0YsS0FBQSxPQUFBLFNBQUEsT0FDRSxHQUFBLE1BQUEsT0FBQSxDQUpELEdBQUEsUUFBQSxHQUNBLFNBQUEsUUFBQSxNQUFBLFNBQUEsTUFDQSxNQUFBLElBQUEsS0FBQSxTQUVDLE1BQUEsS0FBQSxNQUFBLEdBQUEsTUFBQSxJQUFBLFVBQUEsS0FBQSxLQVlBLEtBQUEsUUFBQSxFQVJBLFFBQUEsUUFBQSxLQUFBLE1BQUEsU0FBQSxNQUNBLEtBQUEsUUFHQSxRQUFBLFFBQUEsTUFBQSxTQUFBLFVBQ0EsS0FBQSxPQUFBLFdBVU0sS0FBQSxPQUFBLEVBUk4sUUFBQSxRQUFBLE1BQUEsU0FBQSxNQUNBLEtBQUEsT0FBQSxPQUlFLEtBQUEsUUFDQSxLQUFBLFFBQUEsS0FXRixRQU1GLEtBQUEsTUFBQSxXQUNFLEdBQUEsVUFSRSxZQUNGLEdBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUNGLElBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxHQUFBLElBQUEsR0FBQSxHQUlDLFNBQUEsUUFBQSxLQUFBLE9BQUEsU0FBQSxPQUNELFFBQUEsUUFB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TUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLGdCQWpCQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDQSxZQUNBLGdCQUFBLElBQUEsNkJBQ0EsbUtBU0EsU0FBQSxRQUNBLElBQUEsT0FBQSxRQUFBLE9BQUEsYUFtQkEsTUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLGdCQWpCQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDQSxZQUNBLGdCQUFBLElBQUEsbURBQ0EsaWlHQTZHQSxTQUFBLFFBQ0EsSUFBQSxPQUFBLFFBQUEsT0FBQSxhQUNBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFDQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDRSxZQUNBLGdCQUFBLElBQUEsNkJBakJFLGljQWVKLFNBQUEsUUFtQkEsSUFBQSxPQUFBLFFBQUEsT0FBQSxhQUNBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFDQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDRSxZQUNBLGdCQUFBLElBQUEsbURBakJFLG83Q0EyREosU0FBQSxRQUNBLElBQUEsT0FBQSxRQUFBLE9BQUEsYUFDQSxNQUFBLEtBQUEsT0FBQSxRQUFBLE9BQUEsZ0JBQ0EsT0FBQSxLQUFBLGlCQUFBLFNBQUEsZ0JBQ0UsWUFDQSxnQkFBQSxJQUFBLGlEQWpCRSxtN0JBbURKLFNBQUEsUUFDQSxJQUFBLE9BQUEsUUFBQSxPQUFBLGFBQ0EsTUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLGdCQUNBLE9BQUEsS0FBQSxpQkFBQSxTQUFBLGdCQUNFLFlBQ0EsZ0JBQUEsSUFBQSx5Q0FqQkUsazdCQW1ESixTQUFBLFFBQ0EsSUFBQSxPQUFBLFFBQUEsT0FBQSxhQUNBLE1BQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxnQkFDQSxPQUFBLEtBQUEsaUJBQUEsU0FBQSxnQkFDRSxZQUNBLGdCQUFBLElBQUEseUNBakJFIiwiZmlsZSI6ImFzc2V0cy9qcy9tYWluLTUzOTEzZTRmLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIGFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ2FwcCddKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2dQcm92aWRlciwgJGh0dHBQcm92aWRlcikge1xuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbiAgICAkbG9nUHJvdmlkZXIuZGVidWdFbmFibGVkKHRydWUpO1xuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2h0dHBJbnRlcmNlcHRvcicpO1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ3Jvb3QnLCB7XG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ2hlYWRlcic6IHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3JjL2NvbW1vbi9oZWFkZXIudHBsLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0hlYWRlckN0cmwnXG4gICAgICAgICAgfSxcbiAgICAgICAgICAnZm9vdGVyJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvY29tbW9uL2Zvb3Rlci50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRm9vdGVyQ3RybCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gTWFpbkN0cmwoJGxvZykge1xuICAgICRsb2cuZGVidWcoJ01haW5DdHJsIGxhb2RlZCEnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bigkbG9nKSB7XG4gICAgJGxvZy5kZWJ1ZygnQXBwIGlzIHJ1bm5pbmchJyk7XG4gIH1cblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnYXBwJywgW1xuICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAnaG9tZScsXG4gICAgICAncXVlc3Rpb24wMScsXG4gICAgICAncXVlc3Rpb24tcHV6emxlJyxcbiAgICAgICdxdWVzdGlvbi14JyxcbiAgICAgICdxdWVzdGlvbi1yZWJ1cycsXG4gICAgICAnY29tbW9uLmhlYWRlcicsXG4gICAgICAnY29tbW9uLmZvb3RlcicsXG4gICAgICAnY29tbW9uLnNlcnZpY2VzLmRhdGEnLFxuICAgICAgJ2NvbW1vbi5kaXJlY3RpdmVzLnZlcnNpb24nLFxuICAgICAgJ2NvbW1vbi5maWx0ZXJzLnVwcGVyY2FzZScsXG4gICAgICAnY29tbW9uLmludGVyY2VwdG9ycy5odHRwJyxcbiAgICAgICd0ZW1wbGF0ZXMnXG4gICAgXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAucnVuKHJ1bilcbiAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBNYWluQ3RybClcbiAgICAudmFsdWUoJ3ZlcnNpb24nLCAnMS4wLjInKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAgY29uZmlnXG4gICAqIEBkZXNjcmlwdGlvbiBjb25maWcgYmxvY2tcbiAgICovXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ3Jvb3QuaG9tZScsIHtcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ0AnOiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvaG9tZS9ob21lLnRwbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ3RybCBhcyBob21lJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWUgIEhvbWVDdHJsXG4gICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyXG4gICAqL1xuICBmdW5jdGlvbiBIb21lQ3RybCgkc3RhdGUpIHtcbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzdGF0ZS5nbygncm9vdC5xdWVzdGlvbjAxJyk7XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdob21lJywgW10pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgSG9tZUN0cmwpO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAgY29uZmlnXG4gICAqIEBkZXNjcmlwdGlvbiBjb25maWcgYmxvY2tcbiAgICovXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ3Jvb3QucXVlc3Rpb24wMScsIHtcbiAgICAgICAgdXJsOiAnL3F1ZXN0aW9uMDEnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdAJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3F1ZXN0aW9uMDEvcXVlc3Rpb24wMS50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRmlyc3RRdWVzdGlvbkN0cmwgYXMgcXVlc3Rpb24nXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZSAgSG9tZUN0cmxcbiAgICogQGRlc2NyaXB0aW9uIENvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIEZpcnN0UXVlc3Rpb25DdHJsKCRzdGF0ZSkge1xuICAgIHRoaXMuYW5zd2VycyA9IFtcbiAgICAgICdtZXQgamUga25lY2h0JyxcbiAgICAgICdtZXQgamUgc2xhYWYnLFxuICAgICAgJ0VyIGtvbXQgaGllciBoZWxlbWFhbCBuaWVtYW5kIGJpbm5lbiEnLFxuICAgICAgJ1plIHppam4gYWwgZ2V3ZWVzdCB2YW4gaGV0IExpbGlhbmUgRm9uZHMnXG4gICAgXTtcbiAgICB0aGlzLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5teUFuc3dlciA9PT0gdGhpcy5hbnN3ZXJzWzBdKSB7XG4gICAgICAgICRzdGF0ZS5nbygncm9vdC5xdWVzdGlvbi14Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcyk7XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgncXVlc3Rpb24wMScsIFtdKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb250cm9sbGVyKCdGaXJzdFF1ZXN0aW9uQ3RybCcsIEZpcnN0UXVlc3Rpb25DdHJsKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgIGNvbmZpZ1xuICAgKiBAZGVzY3JpcHRpb24gY29uZmlnIGJsb2NrXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290LnF1ZXN0aW9uLXB1enpsZScsIHtcbiAgICAgICAgdXJsOiAnL3F1ZXN0aW9uLXB1enpsZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ0AnOiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NyYy9hcHAvcXVlc3Rpb24tcHV6emxlL3F1ZXN0aW9uLXB1enpsZS50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnUHV6emxlUXVlc3Rpb25DdHJsIGFzIHF1ZXN0aW9uJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWUgIEhvbWVDdHJsXG4gICAqIEBkZXNjcmlwdGlvbiBDb250cm9sbGVyXG4gICAqL1xuICBmdW5jdGlvbiBQdXp6bGVRdWVzdGlvbkN0cmwoJHN0YXRlKSB7XG4gICAgdGhpcy5tYXRyaXggPSBbXG4gICAgICBbJ0QnLCAnRScsICdTJywgJ0MnLCAnSCcsICdJJywgJ00nLCAnTScsICdFJywgJ0wnLCAnUycsICdVJywgJ1InLCAnRSddLFxuICAgICAgWydQJywgJ1QnLCAnUicsICdFJywgJ0knLCAnUycsICdTJywgJ0UnLCAnTScsICdCJywgJ0wnLCAnSScsICdKJywgJ0cnXSxcbiAgICAgIFsnUicsICdFJywgJ1MnLCAnUycsICdLJywgJ1InLCAnVScsICdJJywgJ0QnLCAnTicsICdPJywgJ1QnLCAnRScsICdOJ10sXG4gICAgICBbJ0UnLCAnSScsICdUJywgJ0knLCAnWicsICdFJywgJ0onLCAnUicsICdFJywgJ0wnLCAnUycsICdNJywgJ1MnLCAnVCddLFxuICAgICAgWydCJywgJ1AnLCAnTycsICdSJywgJ08nLCAnVCcsICdHJywgJ08nLCAnQycsICdKJywgJ0EnLCAnSycsICdFJywgJ00nXSxcbiAgICAgIFsnTScsICdFJywgJ08nLCAnUCcsICdFJywgJ1QnLCAnSScsICdFJywgJ0knLCAnWScsICdOJywgJ0EnLCAnQScsICdOJ10sXG4gICAgICBbJ0UnLCAnUCcsICdNJywgJ1InLCAnVCcsICdFJywgJ04nLCAnTCcsICdaJywgJ0EnLCAnRCcsICdBJywgJ1InLCAnWiddLFxuICAgICAgWydDJywgJ0UnLCAnQicsICdVJywgJ0QnLCAnTCcsICdHJywgJ0QnLCAnVCcsICdFJywgJ04nLCAnTicsICdQJywgJ1MnXSxcbiAgICAgIFsnRScsICdSJywgJ08nLCAnUycsICdJJywgJ04nLCAnVCcsICdFJywgJ1InLCAnSycsICdMJywgJ0EnLCAnQScsICdTJ10sXG4gICAgICBbJ0QnLCAnTicsICdPJywgJ1YnLCAnQScsICdTJywgJ0UnLCAnSicsICdLJywgJ0EnLCAnUCcsICdMJywgJ0UnLCAnQyddLFxuICAgICAgWydBJywgJ08nLCAnVCcsICdMJywgJ0UnLCAnVCcsICdSJywgJ08nLCAnVycsICdEJywgJ0EnLCAnRicsICdJJywgJ0YnXSxcbiAgICAgIFsnUycsICdUJywgJ1InLCAnTycsICdPJywgJ0knLCAnRycsICdPJywgJ0UnLCAnRCcsICdBJywgJ1AnLCAnSScsICdHJ10sXG4gICAgICBbJ04nLCAnRScsICdFJywgJ1QnLCAnUycsICdSJywgJ08nLCAnTycsICdIJywgJ0MnLCAnUycsICdVJywgJ1QnLCAnTyddLFxuICAgICAgWydWJywgJ04nLCAnRScsICdPJywgJ0gnLCAnQycsICdTJywgJ0cnLCAnRScsICdEJywgJ0knLCAnQycsICdIJywgJ1QnXVxuICAgIF07XG4gICAgdGhpcy53b3JkcyA9IFtcbiAgICAgICdCT01FTicsXG4gICAgICAnQ0FORFlDUlVTSCcsXG4gICAgICAnREFLJyxcbiAgICAgICdERUNFTUJFUicsXG4gICAgICAnRklGQScsXG4gICAgICAnR0VESUNIVCcsXG4gICAgICAnR0VaRUxMSUcnLFxuICAgICAgJ0lQQUQnLFxuICAgICAgJ0tSVUlETk9URU4nLFxuICAgICAgJ0xBQVJTJyxcbiAgICAgICdMRVRURVInLFxuICAgICAgJ01BQU4nLFxuICAgICAgJ01JSlRFUicsXG4gICAgICAnUEFBUkQnLFxuICAgICAgJ1BBS0pFU0FWT05EJyxcbiAgICAgICdQRVBFUk5PVEVOJyxcbiAgICAgICdQSUVUJyxcbiAgICAgICdST0UnLFxuICAgICAgJ1NDSElNTUVMJyxcbiAgICAgICdTQ0hPRU4nLFxuICAgICAgJ1NDSE9PUlNURUVOJyxcbiAgICAgICdTSU5URVJLTEFBUycsXG4gICAgICAnU1BBTkpFJyxcbiAgICAgICdTVE9PTUJPT1QnLFxuICAgICAgJ1NUUk9PSUdPRUQnLFxuICAgICAgJ1NVUlBSSVNFJyxcbiAgICAgICdUQU5LUycsXG4gICAgICAnVkVSTEFOR0xJSlNUSkUnLFxuICAgICAgJ1dPUlRFTCcsXG4gICAgICAnWkFLJyxcbiAgICAgICdaT0VUJ1xuICAgIF07XG4gICAgdGhpcy5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCgnJyArIHRoaXMubXlBbnN3ZXIpLnRvTG93ZXJDYXNlKCkgPT09ICdEZSBzdXJwcmlzZSBsaWd0IGluIGRlIGF1dG8nLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgJHN0YXRlLmdvKCdyb290LmZpbmlzaCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gV29yZFNlYXJjaFB1enpsZUZhY3RvcnkoKSB7XG4gICAgLyoqXG4gICAgICogV29yZCBzZWFyY2ggcHV6emxlXG4gICAgICogQHBhcmFtIG1hdHJpeFxuICAgICAqIEBwYXJhbSB3b3Jkc1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdvcmRTZWFyY2hQdXp6bGUobWF0cml4LCB3b3Jkcykge1xuICAgICAgdmFyIG1heFJvdyA9IDAsXG4gICAgICAgIG1heENvbCA9IDA7XG5cbiAgICAgIC8qKlxuICAgICAgICogTWF0cml4XG4gICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgKi9cbiAgICAgIHRoaXMubWF0cml4ID0gW107XG5cbiAgICAgIC8qKlxuICAgICAgICogV29yZHNcbiAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAqL1xuICAgICAgdGhpcy53b3JkcyA9IFtdO1xuXG4gICAgICAvKipcbiAgICAgICAqIElzIHNvbHZlZD9cbiAgICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAgICovXG4gICAgICB0aGlzLnNvbHZlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBwYXJzZSBtYXRyaXggYW5kIHdvcmRzXG4gICAgICBhbmd1bGFyLmZvckVhY2gobWF0cml4LCBmdW5jdGlvbiAobGV0dGVycywgcm93KSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsZXR0ZXJzLCBmdW5jdGlvbiAobGV0dGVyLCBjb2wpIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGxldHRlcjogbGV0dGVyLFxuICAgICAgICAgICAgY29sOiBjb2wsXG4gICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgIHVzZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoIXRoaXMubWF0cml4W3Jvd10pIHtcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3Jvd10gPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5tYXRyaXhbcm93XS5wdXNoKGl0ZW0pO1xuICAgICAgICAgIG1heENvbCA9IGNvbDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIG1heFJvdyA9IHJvdztcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHdvcmRzLCBmdW5jdGlvbiAod29yZCkge1xuICAgICAgICB0aGlzLndvcmRzLnB1c2goe1xuICAgICAgICAgIG5hbWU6IHdvcmRcbiAgICAgICAgfSk7XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBSZXR1cm5zIG1hdHJpeCBpdGVtIGJ5IGNvb3Jkc1xuICAgICAgICogQHBhcmFtIGNvbFxuICAgICAgICogQHBhcmFtIHJvd1xuICAgICAgICogQHJldHVybiB7Kn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5nZXRJdGVtID0gZnVuY3Rpb24gKGNvbCwgcm93KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tYXRyaXhbcm93XSA/IHRoaXMubWF0cml4W3Jvd11bY29sXSA6IHVuZGVmaW5lZCk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgbWF0cml4IGl0ZW1zIGJ5IHN0YXJ0L2VuZCBjb29yZHNcbiAgICAgICAqIEBwYXJhbSBjb2xGcm9tXG4gICAgICAgKiBAcGFyYW0gcm93RnJvbVxuICAgICAgICogQHBhcmFtIGNvbFRvXG4gICAgICAgKiBAcGFyYW0gcm93VG9cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAgICovXG4gICAgICB0aGlzLmdldEl0ZW1zID0gZnVuY3Rpb24gKGNvbEZyb20sIHJvd0Zyb20sIGNvbFRvLCByb3dUbykge1xuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgICBpZiAocm93VG8gPiBtYXhSb3cpIHtcbiAgICAgICAgICByb3dUbyA9IG1heFJvdztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sVG8gPiBtYXhDb2wpIHtcbiAgICAgICAgICBjb2xUbyA9IG1heENvbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmdldEl0ZW0oY29sVG8sIHJvd1RvKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbEZyb20gPT09IGNvbFRvIHx8IHJvd0Zyb20gPT09IHJvd1RvIHx8IE1hdGguYWJzKGNvbFRvIC0gY29sRnJvbSkgPT09IE1hdGguYWJzKHJvd1RvIC0gcm93RnJvbSkpIHtcbiAgICAgICAgICB2YXIgc2hpZnRYID0gKGNvbEZyb20gPT09IGNvbFRvID8gMCA6IChjb2xUbyA+IGNvbEZyb20gPyAxIDogLTEpKSxcbiAgICAgICAgICAgIHNoaWZ0WSA9IChyb3dGcm9tID09PSByb3dUbyA/IDAgOiAocm93VG8gPiByb3dGcm9tID8gMSA6IC0xKSksXG4gICAgICAgICAgICBjb2wgPSBjb2xGcm9tLFxuICAgICAgICAgICAgcm93ID0gcm93RnJvbTtcblxuICAgICAgICAgIGl0ZW1zLnB1c2godGhpcy5nZXRJdGVtKGNvbCwgcm93KSk7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29sICs9IHNoaWZ0WDtcbiAgICAgICAgICAgIHJvdyArPSBzaGlmdFk7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuZ2V0SXRlbShjb2wsIHJvdykpO1xuICAgICAgICAgIH0gd2hpbGUgKGNvbCAhPT0gY29sVG8gfHwgcm93ICE9PSByb3dUbyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrIGl0ZW1zIC0gZmluZCB3b3JkXG4gICAgICAgKiBAcGFyYW0gaXRlbXNcbiAgICAgICAqL1xuICAgICAgdGhpcy5sb29rdXAgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgd29yZHNcbiAgICAgICAgdmFyIHdvcmRzID0gWycnXTtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHdvcmRzWzBdICs9IGl0ZW0ubGV0dGVyO1xuICAgICAgICB9KTtcbiAgICAgICAgd29yZHMucHVzaCh3b3Jkc1swXS5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpKTtcdC8vIHdvcmQgaW4gcmV2ZXJzZSBvcmRlciAod2hlbiBzZWxlY3RpbmcpXG5cbiAgICAgICAgLy8gY2hlY2sgd29yZHNcbiAgICAgICAgdGhpcy5zb2x2ZWQgPSB0cnVlO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy53b3JkcywgZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgICBpZiAod29yZC5mb3VuZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2god29yZHMsIGZ1bmN0aW9uIChpdGVtV29yZCkge1xuICAgICAgICAgICAgaWYgKHdvcmQubmFtZSA9PT0gaXRlbVdvcmQpIHtcbiAgICAgICAgICAgICAgd29yZC5mb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLmZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCF3b3JkLmZvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLnNvbHZlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIFNvbHZlcyBwdXp6bGVcbiAgICAgICAqL1xuICAgICAgdGhpcy5zb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0ge30sXG4gICAgICAgICAgZGlyZWN0aW9ucyA9IHtcbiAgICAgICAgICAgIE46IFswLCAtMV0sIEU6IFsxLCAwXSwgUzogWzAsIDFdLCBXOiBbLTEsIDBdLFxuICAgICAgICAgICAgTkU6IFsxLCAtMV0sIE5XOiBbLTEsIC0xXSwgU0U6IFsxLCAxXSwgU1c6IFstMSwgMV1cbiAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIGdyb3VwIGl0ZW1zIGJ5IGxldHRlcnMgZm9yIGZhc3RlciBzZWFyY2hcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXMubWF0cml4LCBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0W2l0ZW0ubGV0dGVyXSkge1xuICAgICAgICAgICAgICBzdGFydFtpdGVtLmxldHRlcl0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0W2l0ZW0ubGV0dGVyXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy53b3JkcywgZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc3RhcnRbd29yZC5uYW1lLmNoYXJBdCgwKV0sIGZ1bmN0aW9uIChzdGFydCkge1xuICAgICAgICAgICAgaWYgKHdvcmQuZm91bmQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRpcmVjdGlvbnMsIGZ1bmN0aW9uIChzaGlmdCkge1xuICAgICAgICAgICAgICBpZiAod29yZC5mb3VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLmxvb2t1cCh0aGlzLmdldEl0ZW1zKFxuICAgICAgICAgICAgICAgIHN0YXJ0LmNvbCwgc3RhcnQucm93LFxuICAgICAgICAgICAgICAgIHN0YXJ0LmNvbCArICh3b3JkLm5hbWUubGVuZ3RoIC0gMSkgKiBzaGlmdFswXSxcbiAgICAgICAgICAgICAgICBzdGFydC5yb3cgKyAod29yZC5uYW1lLmxlbmd0aCAtIDEpICogc2hpZnRbMV1cbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobWF0cml4LCB3b3Jkcykge1xuICAgICAgcmV0dXJuIG5ldyBXb3JkU2VhcmNoUHV6emxlKG1hdHJpeCwgd29yZHMpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB3b3JkU2VhcmNoUHV6emxlRGlyZWN0aXZlKHdvcmRTZWFyY2hQdXp6bGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdGVtcGxhdGU6ICc8dGFibGUgY2xhc3M9XCJ3b3JkLXNlYXJjaC1wdXp6bGVcIiBuZy1jbGFzcz1cIntcXCdwdXp6bGUtc29sdmVkXFwnOiBwdXp6bGUuc29sdmVkfVwiIGhhbmRwb2ludGVyZW50ZXI9XCJkaXNhYmxlU2Nyb2xsKClcIiBoYW5kcG9pbnRlcmxlYXZlPVwiZW5hYmxlU2Nyb2xsKClcIj4nICtcbiAgICAgICc8dHIgbmctcmVwZWF0PVwiaXRlbXMgaW4gcHV6emxlLm1hdHJpeFwiPicgK1xuICAgICAgJzx0ZCBuZy1yZXBlYXQ9XCJpdGVtIGluIGl0ZW1zXCIgdW5zZWxlY3RhYmxlPVwib25cIicgK1xuICAgICAgJyBuZy1jbGFzcz1cIntcXCdwdXp6bGUtZm91bmRcXCc6IGl0ZW0uZm91bmQsIFxcJ3B1enpsZS1zZWxlY3RlZFxcJzogaXRlbS5zZWxlY3RlZCwgXFwncHV6emxlLW1lc3NhZ2VcXCc6IHB1enpsZS5zb2x2ZWQgJiYgIWl0ZW0uZm91bmR9XCInICtcbiAgICAgICAgLy8gJyBuZy1tb3VzZWRvd249XCJzZWxlY3RTdGFydChpdGVtKVwiIG5nLW1vdXNldXA9XCJzZWxlY3RFbmQoKVwiIG5nLW1vdXNlZW50ZXI9XCJzZWxlY3RFbnRlcihpdGVtKVwiID4nICtcbiAgICAgICcgaGFuZHBvaW50ZXJlbnRlcj1cInNlbGVjdEVudGVyKGl0ZW0pXCIgaGFuZHBvaW50ZXJkb3duPVwic2VsZWN0U3RhcnQoaXRlbSlcIiBoYW5kcG9pbnRlcnVwPVwic2VsZWN0RW5kKClcIiA+JyArXG4gICAgICAnIDxzcGFuPnt7aXRlbS5sZXR0ZXJ9fTwvc3Bhbj4nICtcbiAgICAgICc8L3RkPicgK1xuICAgICAgJzwvdHI+JyArXG4gICAgICAnPC90YWJsZT4nLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbWF0cml4OiAnPScsXG4gICAgICAgIHdvcmRzOiAnPScsXG4gICAgICAgIGFwaTogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgc2VsZWN0RnJvbTtcblxuICAgICAgICAvLyBzZXR1cCBwdXp6bGVcbiAgICAgICAgc2NvcGUuJHdhdGNoKCdtYXRyaXgnLCBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgICAgc2NvcGUucHV6emxlID0gd29yZFNlYXJjaFB1enpsZShtYXRyaXgsIHNjb3BlLndvcmRzKTtcblxuICAgICAgICAgIC8vIGxpbmsgc2VydmljZVxuICAgICAgICAgIGlmIChhdHRycy5hcGkpIHtcbiAgICAgICAgICAgIHNjb3BlLmFwaSA9IHNjb3BlLnB1enpsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RlZCBpdGVtc1xuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBzY29wZS5zZWxlY3RlZCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3Rpb24gc3RhcnRcbiAgICAgICAgICogQHBhcmFtIGl0ZW1cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlLnNlbGVjdFN0YXJ0ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBzZWxlY3RGcm9tID0gaXRlbTtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkub24oJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0aW9uIGVudGVyIChvdmVyKVxuICAgICAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGUuc2VsZWN0RW50ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIGlmIChzZWxlY3RGcm9tKSB7XG4gICAgICAgICAgICBzY29wZS5zZWxlY3RlZCA9IHNjb3BlLnB1enpsZS5nZXRJdGVtcyhzZWxlY3RGcm9tLmNvbCwgc2VsZWN0RnJvbS5yb3csIGl0ZW0uY29sLCBpdGVtLnJvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLmRpc2FibGVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuZW5hYmxlU2Nyb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5jc3MoJ292ZXJmbG93JywgJ2F1dG8nKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0aW9uIGVuZFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGUuc2VsZWN0RW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGVjdEZyb20gPSBudWxsO1xuICAgICAgICAgIHNjb3BlLnB1enpsZS5sb29rdXAoc2NvcGUuc2VsZWN0ZWQpO1xuICAgICAgICAgIHNjb3BlLnNlbGVjdGVkID0gW107XG4gICAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLmNzcygnb3ZlcmZsb3cnLCAnYXV0bycpO1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KS5vZmYoJ3RvdWNobW92ZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHByb3BhZ2F0ZSBzZWxlY3Rpb24gc3RhdGUgdG8gbWF0cml4XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWQnLCBmdW5jdGlvbiAobmV3SXRlbXMsIG9sZEl0ZW1zKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9sZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChuZXdJdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIHF1ZXN0aW9uMk1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdxdWVzdGlvbi1wdXp6bGUnLCBbXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuZmFjdG9yeSgnd29yZFNlYXJjaFB1enpsZScsIFdvcmRTZWFyY2hQdXp6bGVGYWN0b3J5KVxuICAgIC5kaXJlY3RpdmUoJ3dvcmRTZWFyY2hQdXp6bGUnLCB3b3JkU2VhcmNoUHV6emxlRGlyZWN0aXZlKVxuICAgIC5jb250cm9sbGVyKCdQdXp6bGVRdWVzdGlvbkN0cmwnLCBQdXp6bGVRdWVzdGlvbkN0cmwpO1xuXG4gIGFuZ3VsYXIuZm9yRWFjaChcbiAgICAncG9pbnRlcmRvd24gcG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmVudGVyIHBvaW50ZXJsZWF2ZSBwb2ludGVyb3V0IHBvaW50ZXJvdmVyJy5zcGxpdCgnICcpLFxuICAgIGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gJ2hhbmQnICsgZXZlbnROYW1lO1xuICAgICAgcXVlc3Rpb24yTW9kdWxlLmRpcmVjdGl2ZShkaXJlY3RpdmVOYW1lLCBbJyRwYXJzZScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTtcbiAgICAgICAgICBlbGVtZW50LmJpbmQoZXZlbnROYW1lLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGZuKHNjb3BlLCB7JGV2ZW50OiBldmVudH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XSk7XG4gICAgfVxuICApO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAgY29uZmlnXG4gICAqIEBkZXNjcmlwdGlvbiBjb25maWcgYmxvY2tcbiAgICovXG4gIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ3Jvb3QucXVlc3Rpb24teCcsIHtcbiAgICAgICAgdXJsOiAnL3F1ZXN0aW9uLXgnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdAJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3F1ZXN0aW9uLXgvcXVlc3Rpb24teC50cGwuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnWFF1ZXN0aW9uQ3RybCBhcyBxdWVzdGlvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICBIb21lQ3RybFxuICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlclxuICAgKi9cbiAgZnVuY3Rpb24gWFF1ZXN0aW9uQ3RybCgkc3RhdGUpIHtcbiAgICB0aGlzLnggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkc3RhdGUuZ28oJ3Jvb3QucXVlc3Rpb24tcHV6emxlJyk7XG4gICAgfTtcblxuICAgIHRoaXMubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgIH0uYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdxdWVzdGlvbi14JywgW10pXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmNvbnRyb2xsZXIoJ1hRdWVzdGlvbkN0cmwnLCBYUXVlc3Rpb25DdHJsKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgIGNvbmZpZ1xuICAgKiBAZGVzY3JpcHRpb24gY29uZmlnIGJsb2NrXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdyb290LnF1ZXN0aW9uLXJlYnVzJywge1xuICAgICAgICB1cmw6ICcvcXVlc3Rpb24tcmVidXMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdAJzoge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzcmMvYXBwL3F1ZXN0aW9uLXJlYnVzL3F1ZXN0aW9uLXJlYnVzLnRwbC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdSZWJ1c1F1ZXN0aW9uQ3RybCBhcyBxdWVzdGlvbidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lICBIb21lQ3RybFxuICAgKiBAZGVzY3JpcHRpb24gQ29udHJvbGxlclxuICAgKi9cbiAgZnVuY3Rpb24gUmVidXNRdWVzdGlvbkN0cmwoJHN0YXRlKSB7XG4gICAgdGhpcy54ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJHN0YXRlLmdvKCdyb290LnF1ZXN0aW9uLXB1enpsZScpO1xuICAgIH07XG5cbiAgICB0aGlzLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB9LmJpbmQodGhpcyk7XG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgncXVlc3Rpb24tcmVidXMnLCBbXSlcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29udHJvbGxlcignUmVidXNRdWVzdGlvbkN0cmwnLCBSZWJ1c1F1ZXN0aW9uQ3RybCk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiB2ZXJzaW9uRGlyZWN0aXZlKHZlcnNpb24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIC8qanNoaW50IHVudXNlZDpmYWxzZSovXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgICBlbG0udGV4dCh2ZXJzaW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NvbW1vbi5kaXJlY3RpdmVzLnZlcnNpb24nLCBbXSlcbiAgICAuZGlyZWN0aXZlKCdhcHBWZXJzaW9uJywgdmVyc2lvbkRpcmVjdGl2ZSk7XG59KSgpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBodHRwSW50ZXJjZXB0b3IoJHEsICRsb2cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9LFxuICAgICAgcmVxdWVzdEVycm9yOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhyZWplY3Rpb24pO1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICRsb2cuZGVidWcoJ3Jlc3BvbnNlOiAnLCByZXNwb25zZSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0sXG4gICAgICByZXNwb25zZUVycm9yOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgICAgJGxvZy5kZWJ1ZyhyZWplY3Rpb24pO1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uaW50ZXJjZXB0b3JzLmh0dHAnLCBbXSlcbiAgICAuZmFjdG9yeSgnaHR0cEludGVyY2VwdG9yJywgaHR0cEludGVyY2VwdG9yKTtcbn0pKCk7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIGRhdGFTZXJ2aWNlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gWydzb21lJywgJ2RhdGEnXTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NvbW1vbi5zZXJ2aWNlcy5kYXRhJywgW10pXG4gICAgLmZhY3RvcnkoJ0RhdGFTZXJ2aWNlJywgZGF0YVNlcnZpY2UpO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gdXBwZXJjYXNlKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dCA/IHRleHQudG9VcHBlckNhc2UoKSA6IHRleHQ7XG4gICAgfTtcbiAgfVxuXG4gIGFuZ3VsYXIubW9kdWxlKCdjb21tb24uZmlsdGVycy51cHBlcmNhc2UnLCBbXSlcbiAgICAuZmlsdGVyKCd1cHBlcmNhc2UnLCB1cHBlcmNhc2UpO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gaGVhZGVyQ3RybCgkbG9nKSB7XG4gICAgJGxvZy5kZWJ1ZygnSGVhZGVyIGxvYWRlZCcpO1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NvbW1vbi5oZWFkZXInLCBbXSlcbiAgICAuY29udHJvbGxlcignSGVhZGVyQ3RybCcsIGhlYWRlckN0cmwpO1xufSkoKTtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gZm9vdGVyQ3RybCgkbG9nKSB7XG4gICAgJGxvZy5kZWJ1ZygnRm9vdGVyIGxvYWRlZCcpO1xuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ2NvbW1vbi5mb290ZXInLCBbXSlcbiAgICAuY29udHJvbGxlcignRm9vdGVyQ3RybCcsIGZvb3RlckN0cmwpO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInNyYy9jb21tb24vZm9vdGVyLnRwbC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdXJlLWdcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS11LTEgdGV4dC1jZW50ZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICA8cD4mY29weTsgMjAxNCAtIFNpbnQgJiBQaWV0PC9hPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInNyYy9jb21tb24vaGVhZGVyLnRwbC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwdXJlLWdcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS11LTEgdGV4dC1jZW50ZXIgaXNsYW5kXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGltZyBjbGFzcz1cXFwicHVyZS1pbWdcXFwiIHNyYz1cXFwiYXNzZXRzL2ltYWdlcy9zaW50ZXJrbGFhc3F1aXoucG5nXFxcIj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvYXBwL2dldHRpbmctc3RhcnRlZC9nZXR0aW5nLXN0YXJ0ZWQudHBsLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInB1cmUtZyBpc2xhbmQzXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbnRlbnQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICA8cCBjbGFzcz1cXFwiaXNsYW5kLXBhbmVsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8c3Ryb25nPk5vdGUgdGhhdCB0aGlzIGlzIG9ubHkgYSBnZXR0aW5nIHN0YXJ0ZWQgZ3VpZGUsIGZvciBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBidWlsZCBzeXN0ZW0sIHRoZSBhdmFpbGFibGUgdGFza3MsIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBidWlsZCBvciBhbnl0aGluZyBlbHNlLCBwbGVhc2UgcmVmZXIgdG8gdGhlIDxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS92ZXNwYXJueS9hbmd1bGFyLWtpY2tzdGFydC8jcmVhZG1lXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+ZG9jdW1lbnRhdGlvbjwvYT4gb24gdGhlIEdpdEh1YiBwcm9qZWN0Ljwvc3Ryb25nPlxcblwiICtcbiAgICBcIiAgICA8L3A+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxoMz5XaGF0IGFuZCBXaHk8L2gzPlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICA8Y29kZT5hbmd1bGFyLWtpY2tzdGFydDwvY29kZT4gaXMgYW4gb3BpbmlvbmF0ZWQga2lja3N0YXJ0IGZvciBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbiBkZXZlbG9wbWVudCB3aXRoIEFuZ3VsYXJKUy4gSXQgbWFrZXMgeW91ciBkZXZlbG9wbWVudCBhbmQgdGVzdGluZyBlYXN5LCBrZWVwcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBwcm9qZWN0IGNvbnNpc3RlbnQgYW5kIGFsbG93cyB5b3UgdG8gY3JlYXRlIGEgZnVsbHkgb3B0aW1pemVkXFxuXCIgK1xuICAgIFwiICAgICAgcHJvZHVjdGlvbiByZWxlYXNlIHdpdGhlIGVhc2UuIEFmdGVyIGhhdmluZyBkZXZlbG9wZWQgYSBsb3Qgb2YgQW5ndWxhckpTIHByb2plY3RzIEkgZGVjaWRlZCB0byBjb2xsZWN0IGhlcmUgd2hhdCBJJ3ZlIGxlYXJudC5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8aDM+R2V0dGluZyBzdGFydGVkPC9oMz5cXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgSW5zdGFsbFxcblwiICtcbiAgICBcIiAgICAgIDxzdHJvbmc+PGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL3dpa2kvaW5zdGFsbGF0aW9uXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+bm9kZS5qczwvYT48L3N0cm9uZz4uIFRoZW5cXG5cIiArXG4gICAgXCIgICAgICA8c3Ryb25nPnNhc3MsIGd1bHAgYW5kIGJvd2VyPC9zdHJvbmc+IGlmIHlvdSBoYXZlbid0IHlldC5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cHJlPlxcblwiICtcbiAgICBcIiAgICA8Y29kZT5cXG5cIiArXG4gICAgXCIgICAgJCBnZW0gaW5zdGFsbCBzYXNzXFxuXCIgK1xuICAgIFwiICAgICQgbnBtIC1nIGluc3RhbGwgZ3VscCBib3dlclxcblwiICtcbiAgICBcIiAgICA8L2NvZGU+XFxuXCIgK1xuICAgIFwiPC9wcmU+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxwPlxcblwiICtcbiAgICBcIiAgICAgIEFmdGVyIHRoYXQsIGluc3RhbGxcXG5cIiArXG4gICAgXCIgICAgICA8Y29kZT5hbmd1bGFyLWtpY2tzdGFydDwvY29kZT4gLSBkb3dubG9hZCB0aGUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL3Zlc3Bhcm55L2FuZ3VsYXIta2lja3N0YXJ0L3JlbGVhc2VzL2xhdGVzdFxcXCI+bGF0ZXN0PC9hPiByZWxlYXNlIChvciBjbG9uZSB0aGUgbWFzdGVyIGJyYW5jaCBpZiB3YW50IHRvIHJ1biB0aGUgZGV2ZWxvcG1lbnQgdmVyc2lvbikuIFVuemlwIHRoZSBwcm9qZWN0IGFuZCBjZCBpbnRvIGl0LCB0aGVuXFxuXCIgK1xuICAgIFwiICAgICAgaW5zdGFsbCBib3dlciBhbmQgbnBtIGRlcGVuZGVuY2llcywgYW5kIHJ1biB0aGUgYXBwbGljYXRpb24gaW4gZGV2ZWxvcG1lbnQgbW9kZS5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cHJlPlxcblwiICtcbiAgICBcIiAgICA8Y29kZT5cXG5cIiArXG4gICAgXCIgICAgJCBucG0gaW5zdGFsbFxcblwiICtcbiAgICBcIiAgICAkIGJvd2VyIGluc3RhbGxcXG5cIiArXG4gICAgXCIgICAgJCBndWxwIHNlcnZlXFxuXCIgK1xuICAgIFwiICAgIDwvY29kZT5cXG5cIiArXG4gICAgXCI8L3ByZT5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHA+XFxuXCIgK1xuICAgIFwiICAgICAgWW91IGFyZSBub3cgcmVhZHkgdG8gZ28sIHlvdXIgYXBwbGNhdGlvbiBpcyBhdmFpbGFibGUgYXQgPGNvZGU+aHR0cDovLzEyNy4wLjAuMTozMDAwPC9jb2RlPi5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICBZb3UgYXJlIG5vdyByZWFkeSB0byBzdGFydCBjb2RpbmcsIGV2ZXJ5IGZpbGUgeW91IGFkZCwgZWRpdCBvciBkZWxldGUgaW50byB0aGVcXG5cIiArXG4gICAgXCIgICAgICA8Y29kZT4vY2xpZW50PC9jb2RlPiBmb2xkZXIsIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgYnVpbGQgc3lzdGVtIGFuZCB0aGUgYnJvd3NlciB3aWxsIHJlbG9hZC5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICBXaGVuIHlvdSBhcmUgcmVhZHkgdG8gYnVpbGQgYSBwcm9kdWN0aW9uIHJlbGVhc2UgdGhlcmUgaXMgYSB0YXNrIGZvciB0aGF0LlxcblwiICtcbiAgICBcIiAgICA8L3A+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxwcmU+XFxuXCIgK1xuICAgIFwiICAgIDxjb2RlPlxcblwiICtcbiAgICBcIiAgICAkIGd1bHAgc2VydmU6ZGlzdFxcblwiICtcbiAgICBcIiAgICA8L2NvZGU+XFxuXCIgK1xuICAgIFwiPC9wcmU+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxwPlxcblwiICtcbiAgICBcIiAgICAgIFRoaXMgdGFzayB3aWxsIGxpbnQgeW91ciBjb2RlLCBvcHRpbWl6ZSBjc3MganMgYW5kIGltYWdlcyBmaWxlcywgcnVuIHVuaXQgdGVzdHMuIEFmdGVyIHRoZSB0YXNrIGhhcyBzdWNjZXNzZnVsbHkgZmluaXNoZWQsIHlvdSBjYW4gZmluZCBhbiBvcHRpbWl6ZWQgdmVyc2lvbiBvZiB5b3VyIHByb2plY3QgaW4gdGhlXFxuXCIgK1xuICAgIFwiICAgICAgPGNvZGU+L2J1aWxkL2Rpc3Q8L2NvZGU+IGZvbGRlci5cXG5cIiArXG4gICAgXCIgICAgPC9wPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8cD5cXG5cIiArXG4gICAgXCIgICAgICBPdGhlciB0YXNrcyBhcmUgYXZhaWxhYmxlOlxcblwiICtcbiAgICBcIiAgICA8L3A+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDxwcmU+XFxuXCIgK1xuICAgIFwiICAgIDxjb2RlPlxcblwiICtcbiAgICBcIiAgICAjZm9yIGRldmVsb3BpbmcgcnVubmluZyB1bml0IHRlc3Qgb24gZXZlcnkgZmlsZSBjaGFuZ2UuXFxuXCIgK1xuICAgIFwiICAgICQgZ3VscCBzZXJ2ZTp0ZGRcXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgI2ZvciBydW5uaW5nIGUyZSB0ZXN0LiAoeW91IGFwcGxpY2F0aW9uIHNob3VsZCBiZSBydW5uaW5nIG9uIGh0dHA6Ly8xMjcuMC4wLjE6MzAwMClcXG5cIiArXG4gICAgXCIgICAgJCBndWxwIHRlc3Q6ZTJlXFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICNmb3IgcnVubmluZyB1bml0IHRlc3RzIG9uZSB0aW1lIHRoZW4gZXhpdC5cXG5cIiArXG4gICAgXCIgICAgJCBndWxwIHRlc3Q6dW5pdFxcblwiICtcbiAgICBcIiAgICA8L2NvZGU+XFxuXCIgK1xuICAgIFwiPC9wcmU+XFxuXCIgK1xuICAgIFwiICAgIDxwIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGEgaHJlZj1cXFwiaHR0cHM6Ly9naXRodWIuY29tL3Zlc3Bhcm55L2FuZ3VsYXIta2lja3N0YXJ0LyNyZWFkbWVcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBjbGFzcz1cXFwicHVyZS1idXR0b24gYnV0dG9uLXhsYXJnZSBwdXJlLWJ1dHRvbi1wcmltYXJ5XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIEZ1bGwgZG9jdW1lbnRhdGlvbiBvbiBHaXRIdWJcXG5cIiArXG4gICAgXCIgICAgICA8L2E+XFxuXCIgK1xuICAgIFwiICAgIDwvcD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvYXBwL2hvbWUvaG9tZS50cGwuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImlzbGFuZDMgcHVyZS11LTEgcHVyZS11LWxnLTItM1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxoMT5XZWxrb20gYmlqIGRlIFNpbnRlcmtsYWFzIFF1aXo8L2gxPlxcblwiICtcbiAgICBcIiAgICA8aDM+SmUgbW9ldCBhbGxlIHZyYWdlbiBnb2VkIGJlYW50d29vcmRlbiBvbSBsb2NhdGllIHZhbiBqZSBjYWRlYXV0amUgdGUgYWNodGVyaGFsZW4gPHN0cm9uZz5TdWNjZXMhPC9zdHJvbmc+PC9oMz5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kMyBwdXJlLXUtMSBwdXJlLXUtbGctMS0zXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGJ1dHRvbiBuZy1jbGljaz1cXFwiaG9tZS5zdGFydCgpXFxcIiBjbGFzcz1cXFwicHVyZS1idXR0b24gYnV0dG9uLXhsYXJnZSBidXR0b24tZXhwYW5kZWQgYnV0dG9uLXBpZXRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIFN0YXJ0XFxuXCIgK1xuICAgIFwiICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInNyYy9hcHAvcXVlc3Rpb24tcHV6emxlL3F1ZXN0aW9uLXB1enpsZS50cGwuaHRtbFwiLFxuICAgIFwiPGZvcm0gY2xhc3M9XFxcInB1cmUtZm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwdXJlLWcgd29yZC1zZWFyY2hcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMT5TaW50ZXJrbGFhcyBXb29yZHpvZWtlcjwvaDE+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGgzPkRlIG92ZXJnZWJsZXZlbiBsZXR0ZXIgdm9ybWVuIGRlIG9wbG9zc2luZzwvaDM+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTEgcHVyZS11LW1kLTEtNFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHVsIGNsYXNzPVxcXCJ3b3Jkc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJ3b3JkIGluIHF1ZXN0aW9uLnB1enpsZS53b3Jkc1xcXCIgbmctY2xhc3M9XFxcInsnZm91bmQnOiB3b3JkLmZvdW5kfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIHt7d29yZC5uYW1lfX1cXG5cIiArXG4gICAgXCIgICAgICAgIDwvbGk+XFxuXCIgK1xuICAgIFwiICAgICAgPC91bD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMSBwdXJlLXUtbWQtMy00XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8d29yZC1zZWFyY2gtcHV6emxlIG1hdHJpeD1cXFwicXVlc3Rpb24ubWF0cml4XFxcIiB3b3Jkcz1cXFwicXVlc3Rpb24ud29yZHNcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgICAgICAgICBhcGk9XFxcInF1ZXN0aW9uLnB1enpsZVxcXCI+PC93b3JkLXNlYXJjaC1wdXp6bGU+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8IS0tPGRpdiBjbGFzcz1cXFwic3RhdHVzXFxcIj4tLT5cXG5cIiArXG4gICAgXCIgICAgICA8IS0tPGJ1dHRvbiBuZy1jbGljaz1cXFwicXVlc3Rpb24ucHV6emxlLnNvbHZlKClcXFwiIG5nLXNob3c9XFxcIiFxdWVzdGlvbi5wdXp6bGUuc29sdmVkXFxcIiBjbGFzcz1cXFwic29sdmVcXFwiPnNvbHZlPC9idXR0b24+LS0+XFxuXCIgK1xuICAgIFwiICAgICAgPCEtLTxzdHJvbmcgbmctc2hvdz1cXFwicXVlc3Rpb24ucHV6emxlLnNvbHZlZFxcXCIgbmctc2hvdz1cXFwicXVlc3Rpb24ucHV6emxlLnNvbHZlZFxcXCI+U29sdmVkITwvc3Ryb25nPi0tPlxcblwiICtcbiAgICBcIiAgICA8IS0tPC9kaXY+LS0+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgICAgT3Bsb3NzaW5nXFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgY2xhc3M9XFxcInB1cmUtaW5wdXQtMVxcXCIgbmctbW9kZWw9XFxcInF1ZXN0aW9uLm15QW5zd2VyXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiByZXF1aXJlZD1cXFwiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8L2xhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgbmctc2hvdz1cXFwicXVlc3Rpb24uZXJyb3JcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHA+RGl0IGlzIG5pZXQgaGV0IGp1aXN0ZSBhbnR3b29yZCwgcHJvYmVlciBoZXQgbm9nIGVlbnM8L3A+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxpbnB1dCB0eXBlPVxcXCJzdWJtaXRcXFwiIHZhbHVlPVxcXCJWb2xnZW5kZVxcXCIgbmctY2xpY2s9XFxcInF1ZXN0aW9uLm5leHQoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgY2xhc3M9XFxcInB1cmUtYnV0dG9uIGJ1dHRvbi14bGFyZ2UgYnV0dG9uLWV4cGFuZGVkIGJ1dHRvbi1waWV0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInNyYy9hcHAvcXVlc3Rpb24tcmVidXMvcXVlc3Rpb24tcmVidXMudHBsLmh0bWxcIixcbiAgICBcIjxmb3JtIGNsYXNzPVxcXCJwdXJlLWZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDE+VnJhYWcgMzwvaDE+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGgzPlZpbmR0IHg8L2gzPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xIGZpbmQteFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcImJlZm9yZVxcXCI+NTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8c3BhbiBjbGFzcz1cXFwieFxcXCIgbmctY2xpY2s9XFxcInF1ZXN0aW9uLngoKVxcXCI+WDwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8aW1nIHNyYz1cXFwiL2Fzc2V0cy9pbWFnZXMveC5zdmdcXFwiIGFsdD1cXFwiZmluZCB4XFxcIiB3aWR0aD1cXFwiMzAwXFxcIiBjbGFzcz1cXFwibWlkZGxlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8c3BhbiBjbGFzcz1cXFwiYmVsb3dcXFwiPjY8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgIE9wbG9zc2luZ1xcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IGNsYXNzPVxcXCJwdXJlLWlucHV0LTFcXFwiIG5nLW1vZGVsPVxcXCJxdWVzdGlvbi5teUFuc3dlclxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcmVxdWlyZWQ9XFxcIlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IG5nLXNob3c9XFxcInF1ZXN0aW9uLmVycm9yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxwPkRpdCBpcyBuaWV0IGhldCBqdWlzdGUgYW50d29vcmQsIHByb2JlZXIgaGV0IG5vZyBlZW5zPC9wPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aW5wdXQgdHlwZT1cXFwic3VibWl0XFxcIiBuZy1jbGljaz1cXFwicXVlc3Rpb24ubmV4dCgpXFxcIiB2YWx1ZT1cXFwiVm9sZ2VuZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgIGNsYXNzPVxcXCJwdXJlLWJ1dHRvbiBidXR0b24teGxhcmdlIGJ1dHRvbi1leHBhbmRlZCBidXR0b24tcGlldFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9mb3JtPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJzcmMvYXBwL3F1ZXN0aW9uLXgvcXVlc3Rpb24teC50cGwuaHRtbFwiLFxuICAgIFwiPGZvcm0gY2xhc3M9XFxcInB1cmUtZm9ybVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwdXJlLWdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMT5WcmFhZyAyPC9oMT5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8aDM+VmluZHQgeDwvaDM+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTEgZmluZC14XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8c3BhbiBjbGFzcz1cXFwiYmVmb3JlXFxcIj41PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDxzcGFuIGNsYXNzPVxcXCJ4XFxcIiBuZy1jbGljaz1cXFwicXVlc3Rpb24ueCgpXFxcIj5YPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDxpbWcgc3JjPVxcXCJhc3NldHMvaW1hZ2VzL3guc3ZnXFxcIiBhbHQ9XFxcImZpbmQgeFxcXCIgd2lkdGg9XFxcIjMwMFxcXCIgY2xhc3M9XFxcIm1pZGRsZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcImJlbG93XFxcIj42PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8bGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICBPcGxvc3NpbmdcXG5cIiArXG4gICAgXCIgICAgICAgIDxpbnB1dCBjbGFzcz1cXFwicHVyZS1pbnB1dC0xXFxcIiBuZy1tb2RlbD1cXFwicXVlc3Rpb24ubXlBbnN3ZXJcXFwiIHR5cGU9XFxcInRleHRcXFwiIHJlcXVpcmVkPVxcXCJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBuZy1zaG93PVxcXCJxdWVzdGlvbi5lcnJvclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8cD5EaXQgaXMgbmlldCBoZXQganVpc3RlIGFudHdvb3JkLCBwcm9iZWVyIGhldCBub2cgZWVuczwvcD5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImlzbGFuZCBwdXJlLXUtMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGlucHV0IHR5cGU9XFxcInN1Ym1pdFxcXCIgbmctY2xpY2s9XFxcInF1ZXN0aW9uLm5leHQoKVxcXCIgdmFsdWU9XFxcIlZvbGdlbmRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICBjbGFzcz1cXFwicHVyZS1idXR0b24gYnV0dG9uLXhsYXJnZSBidXR0b24tZXhwYW5kZWQgYnV0dG9uLXBpZXRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZm9ybT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlc1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGVzXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwic3JjL2FwcC9xdWVzdGlvbjAxL3F1ZXN0aW9uMDEudHBsLmh0bWxcIixcbiAgICBcIjxmb3JtIGNsYXNzPVxcXCJwdXJlLWZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHVyZS1nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDE+VnJhYWcgMTwvaDE+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGgzPlNpbnRlcmtsYWFzamUga29tIG1hYXIgYmlubmVuLi48L2gzPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiaXNsYW5kIHB1cmUtdS0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IG5nLW1vZGVsPVxcXCJxdWVzdGlvbi5teUFuc3dlclxcXCIgcmVxdWlyZWQ+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPi0gTWFhayBlZW4ga2V1emUgLTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiBuZy1yZXBlYXQ9XFxcImFuc3dlciBpbiBxdWVzdGlvbi5hbnN3ZXJzXFxcIiB2YWx1ZT1cXFwie3thbnN3ZXJ9fVxcXCI+e3thbnN3ZXJ9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgbmctc2hvdz1cXFwicXVlc3Rpb24uZXJyb3JcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHA+RGl0IGlzIG5pZXQgaGV0IGp1aXN0ZSBhbnR3b29yZCwgcHJvYmVlciBoZXQgbm9nIGVlbnM8L3A+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJpc2xhbmQgcHVyZS11LTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxpbnB1dCBuZy1jbGljaz1cXFwicXVlc3Rpb24ubmV4dCgpXFxcIiB0eXBlPVxcXCJzdWJtaXRcXFwiIHZhbHVlPVxcXCJWb2xnZW5kZVxcXCIgY2xhc3M9XFxcInB1cmUtYnV0dG9uIGJ1dHRvbi14bGFyZ2UgYnV0dG9uLWV4cGFuZGVkIGJ1dHRvbi1waWV0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==